{"version":3,"sources":["logo.svg","api/handler.js","components/SearchIngredients.jsx","auth/UserContext.js","components/Favorite.js","components/SimpleCard.jsx","components/FilterMenu.jsx","views/AllRecipes.jsx","components/Comment.jsx","components/ratingStars.jsx","views/recipe.jsx","components/SignInButton.jsx","components/IconSignOut.jsx","components/ProfileMenu.jsx","components/NavMain.js","views/NotFound.jsx","views/Home.jsx","views/SignIn.jsx","views/SignUp.jsx","views/MyRecipes.jsx","views/MyFavourites.jsx","components/CreateForm.jsx","components/UpdateForm.jsx","auth/ProtectedRoute.jsx","App.js","reportWebVitals.js","index.js"],"names":["APIHandler","axios","create","baseURL","process","withCredentials","withRouter","props","useState","ingredientsFromHome","ingredients","setIngredients","useEffect","onIngredientInput","console","log","map","el","index","className","type","value","onChange","evt","newArray","target","handleChange","src","alt","length","onClick","e","preventDefault","newIngredients","splice","removeIngredientBar","UserContext","React","createContext","UserContextProvider","currentUser","setCurrentUser","isLoading","setIsLoading","get","then","res","data","catch","isLoggedIn","Boolean","Provider","children","withAuth","MyComponent","Consumer","context","userContext","useAuth","useContext","Favorite","isFavorite","setFavorite","tmp","favorites","includes","id","handleClick","removeFromFavorite","addtoFavorite","_id","recipe","newFavorites","error","handler","icon","faHeart","size","color","SimpleCard","this","to","pathname","state","previousSearchParams","showLinks","image","title","category","Component","FilterMenu","categories","showMenu","setShowMenu","booleansForCheckbox","categoryFilter","placeholder","onNameInput","nameFilter","checked","onCategoryInput","AllRecipes","setState","fetchData","newCategory","updatedCategories","indexOf","push","ingredientFilter","params","name","response","recipes","err","searchString","url","location","reset","URLSearchParams","search","ingredientParams","split","searchFromOneRecipe","prevProps","element","Comment","message","date","Date","now","idRecipe","comments","didMount","updateComments","a","recipeId","handleSubmit","post","userId","action","comment","i","slice","author","avatar","username","RatingStars","Recipe","setRecipe","steps","RegExp","noSteps","fetchRecipes","match","class","infoRecipe","difficulty","product","width","quantities","test","instructions","instruction","SignInButton","faUser","finally","faSignOutAlt","ProfileMenu","showProfileMenu","toggleProfileMenu","faSortDown","NavMain","exact","activeClassName","Page404","Home","history","toString","Signin","email","setEmail","password","setPassword","isError","setIsError","apiRes","onSubmit","Signup","tmpAvatar","fileInput","createRef","fd","FormData","append","current","files","handleImage","defaultValue","htmlFor","ref","MyRecipes","setRecipes","handleDelete","delete","handleEdit","faEdit","style","cursor","faTrash","MyFavourites","FavouritesList","setList","fetchFavorites","user","CreateForm","file","uploadData","addIngredientBar","newQuantities","ingredient","quantity","deleteIngredient","Updateform","componentDidMount","recipeInfo","finalImage","imageInput","patch","ProtectedRoute","component","rest","render","App","path","SignUp","UpdateForm","OneRecipe","NotFound","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f23ad5c3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import axios from \"axios\";\n\nconst APIHandler = (() => {\n  return axios.create({\n    baseURL: process.env.REACT_APP_BACKEND_URL,\n    withCredentials: true,\n  });\n})();\n\nexport default APIHandler;\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router';\nimport './../styles/SearchIngredients.css';\n\nfunction SearchIngredients(props) {\n    const [ingredients, setIngredients] = useState(props?.ingredientsFromHome||[\"\"]);\n\n    // console.log(\"the ingredients are: \", ingredients)\n\n    useEffect(() => {\n        if (typeof props.onIngredientInput === \"function\") {\n        console.log(\"i am in use effect and the ingredients are: \", ingredients)\n        props.onIngredientInput(ingredients)}\n    }, [ingredients])\n\n    const addIngredientBar = (e) => {\n        e.preventDefault()\n        setIngredients([...ingredients, \"\"])\n    }\n\n    const removeIngredientBar = (e, index) => {\n        e.preventDefault()\n        const newIngredients = [...ingredients]\n        newIngredients.splice(index, 1)\n        setIngredients(newIngredients)\n    }\n\n    const handleChange = (evt, index) => {\n        console.log(\"yep smtg definitely changed\")\n        let newArray = [...ingredients];\n        newArray[index] = evt.target.value;\n        console.log(\"and the new ingredients are...\", newArray)\n        setIngredients(newArray)\n    }\n\n    return (\n        <div>\n            <form>\n                {\n                    ingredients.map((el, index) => {\n                        return(\n                        <div className=\"one-ingredient\" key={index} >\n                                    <input className=\"add-ingredient\" type=\"text\" value={ingredients[index]} onChange={(evt) => handleChange(evt, index)} />\n                                    <img className=\"ingredient-image\" src={\"https://themealdb.com/images/ingredients/\" + ingredients[index] + \".png\"} alt=\"\"/>\n                                    {\n                                        ingredients.length > 1 && <button className=\"ingredient-delete\" onClick={(evt) => removeIngredientBar(evt, index)}><i className=\"fas fa-trash-alt\"></i></button>\n                                    }\n                                    <br/>\n                        </div>\n                        )\n                    })\n                }\n                {(ingredients.length<5) && <button className=\"ingredient-add-button\" onClick={addIngredientBar}><i className=\"fas fa-plus-circle\"></i></button>}\n            </form>\n        </div>\n    )\n}\n\nexport default withRouter(SearchIngredients)","import React, { useContext, useState, useEffect } from \"react\";\nimport APIHandler from \"./../api/handler\";\n\nexport const UserContext = React.createContext();\n\n/**\n *\n * @param {Object} props\n * @returns a Provider wrappinng the authentication logic\n */\nexport const UserContextProvider = (props) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    APIHandler.get(\"/is-loggedin\")\n      .then((res) => {\n        setIsLoading(false);\n        setCurrentUser(res.data.currentUser);\n      })\n      .catch(() => {\n        setCurrentUser(null);\n        setIsLoading(false);\n      });\n  }, []);\n\n  const isLoggedIn = Boolean(currentUser); // checked on every render => passed to the\n\n  return (\n    <UserContext.Provider\n      value={{ currentUser, isLoading, isLoggedIn, setCurrentUser }}\n    >\n      {!isLoading ? props.children : null}\n    </UserContext.Provider>\n  );\n};\n\n/**\n * provide the UserContext to class/ based components\n * in  classes, the UserContext is bound to this.props.userContext\n * @param {React.Component} MyComponent any class based component\n * @returns A consumer component accessign the values exposed by the UserContext\n */\nexport const withAuth = (MyComponent) => {\n  return (props) => {\n    return (\n      <UserContext.Consumer>\n        {(context) => {\n          return <MyComponent {...props} userContext={context} />;\n        }}\n      </UserContext.Consumer>\n    );\n  };\n};\n\n/**\n * a utility function (shortcut) so you don't have to import the Context + useContext in you app's functionnal components\n * @returns\n */\nexport const useAuth = () => useContext(UserContext);\n","import React, { useState, useEffect } from \"react\";\nimport APIHandler from \"../api/handler\";\nimport \"./../styles/Favorite.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport { faHeartB } from \"@fortawesome/free-regular-svg-icons/faHeart\";\nimport { useAuth } from \"../auth/UserContext\";\n\nexport default function Favorite(props) {\n  const { currentUser, setCurrentUser } = useAuth();\n  const [isFavorite, setFavorite] = useState(false);\n  const [listFavorites, setFavoritesList] = useState([]);\n\n  useEffect(() => {\n    const tmp = currentUser?.favorites.includes(props.id);\n    setFavorite(tmp);\n  }, [currentUser]);\n\n  const handleClick = () => {\n    if (isFavorite === true) {\n      removeFromFavorite();\n    } else {\n      addtoFavorite();\n    }\n  };\n\n  const addtoFavorite = () => {\n    APIHandler.get(\n      \"/all-recipes/add-to-favorite/\" + currentUser._id + \"/\" + props.id\n    )\n      .then((recipe) => {\n        const oldFavorites = [...currentUser.favorites];\n\n        const newFavorites = recipe.data.favorites;\n\n        setCurrentUser({ ...currentUser, favorites: newFavorites }\n        );\n      })\n      .catch((error) => console.error(error));\n  };\n\n  const removeFromFavorite = () => {\n    APIHandler.get(\n      \"/all-recipes/remove-from-favorite/\" + currentUser._id + \"/\" + props.id\n    )\n      .then((recipe) => {\n        if (props.handler) props.handler();\n        const oldFavorites = [...currentUser.favorites];\n        const newFavorites = recipe.data.favorites;\n        setCurrentUser({ ...currentUser, favorites: newFavorites });\n      })\n      .catch((error) => console.error(error));\n  };\n\n  return (\n    <div>\n      {isFavorite ? (\n        <button className=\"isFavorite\" onClick={handleClick}>\n          <FontAwesomeIcon\n            className=\"coeur-plein\"\n            icon={faHeart}\n            size=\"2x\"\n            color=\"#d18110\"\n          />\n          <i className=\"far fa-heart coeur-vide fa-2x\"></i>\n        </button>\n      ) : (\n        <button className=\"isNotFavorite\" onClick={handleClick}>\n          <FontAwesomeIcon\n            className=\"coeur-plein\"\n            icon={faHeart}\n            size=\"2x\"\n            color=\"#d18110\"\n          />\n          <i className=\"far fa-heart coeur-vide fa-2x\"></i>\n        </button>\n      )}\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\"\nimport \"./../styles/SimpleCard.css\";\nimport Favorite from './Favorite';\nimport { useAuth } from \"./../auth/UserContext\";\nimport { withAuth } from './../auth/UserContext';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart, faHeartbeat } from \"@fortawesome/free-solid-svg-icons\";\n\n\nclass SimpleCard extends Component {\n    render() \n    {\n\n        return (\n            <div className=\"simple-card\">\n            <div className=\"favorite\">\n            {this.props.userContext.isLoggedIn === true && (<Favorite handler={this.props.handler} id={this.props.recipe._id}/>)}\n            {this.props.userContext.isLoggedIn === false && (<Link to=\"/sign-in\" className=\"isNotFavorite\"><FontAwesomeIcon className=\"coeur-plein\" icon={faHeart} size=\"2x\" color=\"#d18110\" /><i className=\"far fa-heart coeur-vide fa-2x\"></i></Link>)}\n</div>\n\n \n           \n            {/* {this.props.userContext.isLoggedIn === true && (<Favorite handler={this.props.handler} id={this.props.recipe._id}/>)} */}\n       \n\n            <Link to={{pathname:\"/all-recipes/\" + this.props.recipe._id, state: {...this.props.previousSearchParams, showLinks: this.props.showLinks}}} className=\"link\">\n           \n            \n\n            <img src={this.props.recipe.image}  alt=\"photo-recipe\" />\n                <h1 className=\"title-simple-card\">{this.props.recipe.title}</h1>\n               \n                <p className= \"title-difficulty\"><i>{this.props.recipe.category}</i></p>\n                </Link>\n                </div>\n            \n        )\n    }\n}\n\nexport default withAuth(SimpleCard)\n","import React, { useState, useEffect } from \"react\";\nimport SearchIngredients from \"./SearchIngredients\";\n\nimport \"./../styles/filterMenu.css\";\n\nexport default function FilterMenu(props) {\n  const categories = [\n    \"Meat\",\n    \"Dessert\",\n    \"Miscellaneous\",\n    \"Pasta\",\n    \"Seafood\",\n    \"Side\",\n    \"Starter\",\n    \"Vegan\",\n    \"Vegetarian\",\n    \"Breakfast\",\n  ];\n\n  const [showMenu, setShowMenu] = useState(false);\n\n  const toggleMenu = () => {\n    setShowMenu(!showMenu);\n  };\n\n  let booleansForCheckbox = categories.map((category) => props.state?.categoryFilter.includes(category))\n\n  useEffect(() => {\n    booleansForCheckbox = categories.map((category) => props.state?.categoryFilter.includes(category))\n    console.log(\"the array i made for categories\", booleansForCheckbox)\n  })\n\n  return (\n    <div className=\"search-menu\">\n        <div className=\"search-bar-with-btn\">\n        <form>\n          <input\n            className=\"search-bar\"\n            type=\"text\"\n            placeholder=\"Search by name\"\n            onChange={props.onNameInput}\n            value={props.state.nameFilter}\n          ></input>\n        </form>\n        <button className=\"filter-btn\" onClick={toggleMenu}>\n          <i className=\"fal fa-sliders-v\"></i>\n        </button>\n        </div>\n      {showMenu && (\n        <div className=\"filter-menu\">\n          <div className=\"category-menu\">\n            <h3>Categories</h3>\n            <div className=\"all-categories\">\n              {categories.map((category, index) => {\n                return (\n                  <span key={category} className=\"one-category\">\n                    <input\n                      checked={booleansForCheckbox[index]}\n                      type=\"checkbox\"\n                      onChange={(e) => props.onCategoryInput(e, category)}\n                 \n                    />\n                    <label>{category}</label>\n                  </span>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"ingredients-menu\">\n            <h3>Ingredients</h3>\n            <SearchIngredients onIngredientInput={props.onIngredientInput}\n ingredientsFromHome={props.ingredientsFromHome}/>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport APIHandler from \"../api/handler\";\nimport \"./../styles/AllRecipes.css\";\nimport SimpleCard from \"../components/SimpleCard\";\nimport FilterMenu from \"../components/FilterMenu\";\n\nexport default class AllRecipes extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      recipes: null,\n      nameFilter: null,\n      ingredientFilter: [],\n      categoryFilter: [],\n      searchString: \"\"\n    };\n  }\n\n  componentDidMount() {\n    let reset = this.props.location?.reset || false;\n    // if we came from Home, we have to use the location parameters\n    const url = new URLSearchParams(this.props.location.search)\n    let ingredientParams = [\"\"];\n    if (typeof url.get('ingredients') === \"string\") ingredientParams = url.get('ingredients').split(',')\n    \n    // if we came from the details of one recipe, we want to display the same search as before\n    // with props.location.searchFromOneRecipe\n    let name = \"\"; \n    let categories = [];\n    if (this.props.location.searchFromOneRecipe) {\n      ingredientParams = this.props.location.searchFromOneRecipe.ingredients;\n      name = this.props.location.searchFromOneRecipe.name;\n      categories = this.props.location.searchFromOneRecipe.category;\n    }\n\n    this.setState({ingredientFilter: ingredientParams, nameFilter: name, categoryFilter: categories}, () => this.fetchData())\n    \n  }\n\n  componentDidUpdate (prevProps) {\n    // If the user clicked on All recipes, we need to reset all parameters of the search to empty\n\n    if (prevProps === this.props) return\n    if (this.props.location?.reset) {\n      this.setState({\n        ingredientFilter: [\"\"], \n        nameFilter: \"\", \n        categoryFilter: []\n      }, () => this.fetchData())\n      this.props.location.reset = false;\n      console.log(\"ok i get that you are trying to reset\")\n  }\n  }\n  // Three functions handling the changes in the 3 parts of the filter\n\n  onNameInput = (evt) => {\n    this.setState({ nameFilter: evt.target.value }, () => {\n      this.fetchData();\n    });\n  };\n\n  onCategoryInput = (evt, newCategory) => {\n    let updatedCategories = [...this.state.categoryFilter];\n    if (this.state.categoryFilter.includes(newCategory)) {\n      updatedCategories.splice(updatedCategories.indexOf(newCategory), 1);\n    } else {\n      updatedCategories.push(newCategory);\n    }\n    this.setState({categoryFilter: updatedCategories}, () => {\n        this.fetchData();\n    })\n  }\n\n  onIngredientInput = (ingredients) => {\n    this.setState({ ingredientFilter: [...ingredients] }, () => {\n      this.fetchData();\n    });\n  }\n\n  // The function calls the API to get the data corresponding to the 3 filters\n  fetchData = () => {\n    APIHandler\n        .get(\"/all-recipes\", {\n            params: {\n                name: this.state.nameFilter,\n                category: this.state.categoryFilter,\n                ingredients: this.state.ingredientFilter\n            },\n        })\n        .then((response) => {\n            this.setState({ recipes: response.data });\n        })\n        .catch((err) => console.error(err))\n  };\n\n\n\n  render() {\n    if (!this.state.recipes) return <div>Loading...</div>;\n    return (\n      <>\n        <FilterMenu\n          onNameInput={this.onNameInput}\n          onCategoryInput={this.onCategoryInput}\n          onIngredientInput={this.onIngredientInput}\n          ingredientsFromHome={this.state.ingredientFilter}\n          state={this.state}\n\n        />\n       \n        {\n          this.state.recipes.length ?\n\n          <div className=\"list-recipes\">\n            {this.state.recipes.map((element) => {\n              return (\n                <div key={element._id}>\n                  <SimpleCard \n                    previousSearchParams={\n                      {name: this.state.nameFilter,\n                      ingredients: this.state.ingredientFilter,\n                      category: this.state.categoryFilter}\n                    } \n                    recipe={element}\n                    showLinks={true}>\n                    </SimpleCard>\n                </div>\n              );\n            })}\n          </div>\n\n          : <div>\n            <p>There are no recipes matching these criteria</p>\n              <i className=\"far fa-times-circle\"></i>           \n            </div>\n        }\n      </>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport APIHandler from \"./../api/handler\";\nimport \"./../styles/Comment.css\";\nimport { withAuth } from \"../auth/UserContext\";\n\nclass Comment extends Component {\n  state = {\n    message: \"\",\n    date: Date.now(),\n    recipe: this.props.idRecipe,\n    comments: [],\n    didMount: false,\n  };\n\n  async componentDidMount() {\n    this.updateComments();\n  }\n\n  updateComments = async () => {\n    try {\n      const response = await APIHandler.get(\"/comments/\" + this.props.recipeId);\n      this.setState({\n        comments: response.data,\n        didMount: true,\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      message: e.target.value,\n    });\n  };\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      await APIHandler.post(\n        \"/comments/\" + this.props.userId + \"/\" + this.props.recipeId,\n        this.state\n      );\n      this.updateComments();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  render() {\n    if (!this.state.didMount) return <div>loading</div>;\n    return (\n      <div className=\"comments\">\n        <div className=\"header\">\n          <h1 className=\"title\">Leave a comment</h1>\n          <form action=\"\" >\n            <input\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"leave a comment here ..\"\n              onChange={this.handleChange}\n            />\n\n            {this.props.userContext.isLoggedIn === true && (\n              <button  onClick={this.handleSubmit}>\n                send !\n              </button>\n            )}\n\n            {this.props.userContext.isLoggedIn === false && (\n              <Link to=\"/sign-in\"><button className=\"btn\" >\n                send !\n              </button>\n              </Link>\n            )}\n          </form>\n        </div>\n        \n   \n        {!this.state.comments.length ? (\n          <div className=\"comment\"> no comments yet </div>\n        ) : (\n          this.state.comments.map((comment, i) => {\n            return (\n              <div className=\"comment\" key={comment._id}>\n                <div className=\"date\">\n                  {comment.date.slice(0, 10)} {comment.date.slice(11, 19)}{\" \"}\n                </div>\n                <div className=\"author-infos\">\n                  <img\n                    className=\"avatar\"\n                    src={comment.author?.avatar}\n                    alt=\"user-avatar\"\n                  />\n                  <b>{comment.author?.username}</b>\n                </div>\n                <div className=\"message\">{comment.message}</div>\n              </div>\n            );\n          })\n        )}\n        </div>\n      \n    );\n  }\n}\n\nexport default withAuth(Comment);\n","import React from 'react'\nimport \"./../styles/starRating.css\"\nimport APIHandler from \"../api/handler\";\nimport  { useState, useEffect } from \"react\";\n\nconst RatingStars = (props) => {\n    \n\n  const [rate, setRate] = useState();\n\n    return (\n    <>\n    </>\n         \n    );\n}\n\nexport default RatingStars\n","import React, { useState, useEffect } from \"react\";\nimport NavigationArrow from \"./../components/NavigationArrow\";\nimport \"./../styles/ingredients.css\";\nimport APIHandler from \"../api/handler\";\nimport SearchIngredients from \"../components/SearchIngredients\";\nimport AllRecipes from \"./AllRecipes\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../auth/UserContext\";\nimport { withAuth } from \"./../auth/UserContext\";\nimport Comment from \"../components/Comment\";\nimport StarReating from \"../components/ratingStars\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport Favorite from \"../components/Favorite\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-regular-svg-icons/faHeart\";\n\nfunction Recipe(props) {\n  const [recipe, setRecipe] = useState([]);\n  const [image, setImage] = useState([]);\n  const steps = new RegExp(/[0-9]+\\./, \"g\");\n  const noSteps = new RegExp(/\\.\\s/, \"g\");\n  const { currentUser } = useAuth();\n\n\n  // Similar a componentDidMount y componentDidUpdate:\n\n  useEffect(() => {\n    fetchRecipes();\n  }, []);\n\n  const fetchRecipes = async () => {\n    try {\n      const res = await APIHandler.get(\"/all-recipes/\" + props.match.params.id);\n      setRecipe(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  \n\n  return (\n    <>\n      {props.location.state?.showLinks && (\n        <div className=\"back-links-container\">\n          <Link to=\"./\" className=\"back-links\">\n            Back to all recipes\n          </Link>\n          <Link\n            to={{\n              pathname: \"/all-recipes\",\n              searchFromOneRecipe: props.location.state,\n            }}\n            className=\"back-links\"\n          >\n            Back to my search\n          </Link>\n        </div>\n      )}\n\n      <div className=\"container\">\n        <div className=\"shadow-drop-2-center wrapper\">\n          <div className=\"favorite\">\n            {currentUser && <Favorite id={props.match.params.id} />}\n            {!currentUser && (\n              <Link to=\"/sign-in\" className=\"isNotFavorite\">\n                <i class=\"fas fa-heart coeur-plein fa-3x\"></i>\n                <i className=\"far fa-heart coeur-vide fa-3x\"></i>\n              </Link>\n            )}\n          </div>\n          <div>\n            <img src={recipe.image} alt={recipe.title} />\n            <h1>{recipe.title}</h1>\n            <StarReating infoRecipe={props} />\n          </div>\n\n          <h2 className=\"difficulties\">Level: {recipe.difficulty}</h2>\n\n          <div className=\"wrapper-ingredients\">\n            {recipe.ingredients?.map((product, i) => {\n              return (\n                <div key={i} className=\"wrapp-ingredient shadow-drop-2-center \">\n                  <h3>{product}</h3>\n                  <img\n                    src={\n                      \"https://themealdb.com/images/ingredients/\" +\n                      product +\n                      \".png\"\n                    }\n                    width=\"40px\"\n                  />\n                  <p>{recipe.quantities[i]}</p>\n                </div>\n              );\n            })}\n          </div>\n          <div className=\"instructions-list\">\n            {steps.test(recipe.instructions)}\n            <ul>\n              {steps.test(recipe.instructions)\n                ? recipe.instructions\n                    ?.split(steps)\n                    .map((instruction) => <li>{instruction}</li>)\n                : recipe.instructions\n                    ?.split(noSteps)\n                    .map((instruction) => <li>{instruction}</li>)}\n            </ul>\n          </div>\n          <div className=\"comment-section\">\n            <Comment\n              userId={currentUser?._id}\n              recipeId={props.match.params.id}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Recipe;\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport \"./../styles/SignInButton.css\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUser } from '@fortawesome/free-solid-svg-icons'\n\nexport default function SignInButton() {\n    return (\n        <div className=\"signin\">\n        <FontAwesomeIcon icon={faUser} className=\"fa\" />\n            <p>Connexion</p>\n        </div>\n\n\n\n    )\n}\n","import React, { useContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport APIHandler from \"../api/handler.js\";\nimport { useAuth } from \"../auth/UserContext\";\nimport \"./../styles/IconSignOut.css\"\n\nexport default withRouter(function IconSignout(props) {\n  const { setCurrentUser } = useAuth();\n\n  const handleSignout = () =>\n    APIHandler.post(\"/signout\").finally(() => {\n      setCurrentUser(null);\n    });\n\n  return (\n    <FontAwesomeIcon\n      onClick={handleSignout}\n      className=\"link icon-signout is-clickable\"\n      icon={faSignOutAlt}\n      size=\"xs\"\n      title=\"signout\"\n    />\n  );\n});\n","import React, { Component } from \"react\";\nimport \"./../styles/ProfileMenu.css\";\nimport { Link } from \"react-router-dom\";\nimport IconSignOut from \"./IconSignOut\";\nimport ProfileButton from \"./ProfileButton\";\nimport \"./../styles/SignInButton.css\";\nimport { useAuth } from \"./../auth/UserContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCarrot, fas, faSortDown } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class ProfileMenu extends Component {\n  state = {\n    showProfileMenu: true,\n  };\n\n  toggleProfileMenu = () => {\n    this.setState({\n      showProfileMenu: !this.state.showProfileMenu,\n    });\n  };\n  render() {\n    return (\n      <div className=\"connected-menu\">\n        <div className=\"signin\" onClick={() => this.toggleProfileMenu()}>\n          <img src={this.props.avatar} alt=\"avatar\" className='img-avatar' />\n          <p>{this.props.username}</p>\n          <FontAwesomeIcon icon={faSortDown} className=\"fa\" />\n          {!this.state.showProfileMenu && (\n          <div className=\"hidden-menu\">\n            <Link className=\"link\" to=\"/profile/my-recipes\">My recipes</Link>\n            <Link className=\"link\" to=\"/profile/my-favourites\">My favourites</Link>\n            <IconSignOut className=\"link signin\" />\n          </div>\n        )}\n        </div>\n\n      </div>\n    );\n  }\n}\n","import { NavLink } from \"react-router-dom\";\nimport React from \"react\";\nimport SignInButton from \"./SignInButton\";\nimport \"./../styles/NavMain.css\";\nimport { useAuth } from \"./../auth/UserContext\";\nimport IconSignOut from \"./IconSignOut\";\nimport ProfileMenu from \"./ProfileMenu\";\n\n\nexport default function NavMain() {\n  const { isLoggedIn } = useAuth();\n  const { currentUser } = useAuth();\n  return (\n    <nav id=\"nav_main\" className=\"nav\">\n      <NavLink exact className=\"link logo\" activeClassName=\"is-active\" to=\"/\">\n        <img\n          className=\"logo-fridge\"\n          src=\"./../../FridgeIcon.png\"\n          alt=\"fridge-logo\"\n        ></img>\n        <img\n          className=\"title-logo\"\n          src=\"./../../title-bon-app.png\"\n          alt=\"bon-app\"\n        />\n      </NavLink>\n      <NavLink\n        className=\"link title\"\n        activeClassName=\"is-active\"\n        to={{pathname: \"/all-recipes\", reset: true}}\n\n      >\n        All Recipes\n      </NavLink>\n\n      {isLoggedIn === false && (\n        <>\n          <NavLink\n            className=\"link signin\"\n            activeClassName=\"is-active\"\n            to=\"/sign-in\"\n          >\n            <SignInButton />\n          </NavLink>\n        </>\n      )}\n\n      {isLoggedIn === true && (\n        <>\n        <ProfileMenu username={currentUser.username} avatar={currentUser.avatar}/>\n        </>\n      )}\n    </nav>\n  );\n}\n","import { Link } from \"react-router-dom\";\n\nexport default function Page404() {\n  return (\n    <div className=\"not-found\">\n      <h1 className=\"title\">404</h1>\n      <span>Oh no !!!</span>\n      <span>You seem lost friend :(</span>\n      <span>\n        Go back to the &nbsp;<Link to=\"/\">home page</Link>\n      </span>\n    </div>\n  );\n}\n","import React, { useState } from 'react'\nimport SearchIngredients from \"./../components/SearchIngredients.jsx\";\nimport { Link } from \"react-router-dom\";\nimport './../styles/Home.css';\n\nexport default function Home(props) {\n\n    const [ingredients, setIngredients] = useState([])\n\n    const findYourRecipe = () => {\n       props.history.push({pathname: \"/all-recipes\", search: new URLSearchParams({ingredients: ingredients}).toString()})\n    }\n\n    const onHomeIngredientInput = (newIngredients) => {\n        setIngredients(newIngredients)\n    }\n\n    return (\n        <div className=\"main-home\">\n            <div className=\"left-home\">\n                <img className=\"logo-home\" src=\"title-bon-app.png\" alt=\"BonApp\" />\n                <p>Add your ingredients</p>\n                <SearchIngredients onIngredientInput={onHomeIngredientInput}/>\n                <button className=\"find-recipe-btn\" onClick={findYourRecipe}>Find your recipe</button>\n            </div>\n            <Link className=\"fridge-container\" to=\"/all-recipes\">\n                <img className=\"fridge\" src=\"openingFridge.gif\" alt=\"fridge opening\" />\n            </Link>\n        </div>\n    )\n}\n","import React, { useState, useContext } from \"react\";\n\nimport { Link, Redirect } from \"react-router-dom\";\n// custom tools\nimport { useAuth } from \"../auth/UserContext\";\nimport APIHandler from \"./../api/handler.js\";\nimport \"./../styles/form.css\";\n\nexport default function Signin(props) {\n  const [email, setEmail] = useState(\"admin@foobarbaz.io\");\n  const [password, setPassword] = useState(\"12345\");\n  const { isLoggedIn, setCurrentUser } = useAuth();\n  const [isError, setIsError] = useState(false)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const apiRes = await APIHandler.post(\"/signin\", { email, password });\n      setCurrentUser(apiRes.data.currentUser);\n      setIsError(false);\n    } catch (err) {\n      setCurrentUser(null);\n      setIsError(true)\n      // status, error\n    }\n  };\n\n  return isLoggedIn ? (\n    <Redirect to=\"/all-recipes\" />\n  ) : (\n    <form className=\"form\" onSubmit={handleSubmit}>\n      <h1 className=\"title\">Sign in</h1>\n      {/* <label className=\"label\" htmlFor=\"email\">\n        email\n      </label> */}\n      {isError === true && <div className=\"error title\">invalid credentials</div>}\n      <input\n        className=\"input\"\n        placeholder=\"email\"\n        id=\"email\"\n        type=\"email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      {/* <label className=\"label\" htmlFor=\"password\">\n        password\n      </label> */}\n      <input\n        className=\"input\"\n        placeholder=\"password\"\n        id=\"password\"\n        type=\"password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <button className=\"btn\">ok</button>\n      <p className=\"parag\">\n        No account yet ? please{\" \"}\n        <Link to=\"/signup\" className=\"linksign\">\n          sign up\n        </Link>\n      </p>\n    </form>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n// custom tools\nimport APIHandler from \"./../api/handler.js\";\nimport IconAvatarAdmin from \"./../components/IconAvatarAdmin\";\nimport { withAuth } from \"./../auth/UserContext\";\n// styles\nimport \"./../styles/form.css\";\nimport \"./../../src/styles/icon-avatar.css\";\n\nclass Signup extends Component {\n  state = {\n    avatar: '',\n    tmpAvatar: \"\",\n    username: \"admin\",\n    email: \"admin@foobarbaz.io\",\n    password: \"12345\",\n    isError: false\n  };\n  fileInput = React.createRef()\n  \n  handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const fd = new FormData();\n    // create a form data (programatic form, to send the file as binary)\n    fd.append(\"email\", this.state.email);\n    fd.append(\"password\", this.state.password);\n    fd.append(\"username\", this.state.username);\n    if (this.fileInput.current.files[0]) {\n      fd.append('avatar', this.fileInput.current.files[0])\n    }\n\n    try {\n      await APIHandler.post(\"/signup\", fd);\n      this.props.history.push(\"/sign-in\");\n    } catch (err) {\n      console.error(err);\n      this.setState({\n        isError: true\n      })\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleImage = (e) => {\n    this.setState({ avatar: e.target.files[0] }\n    );\n  };\n\n  \n\n  render() \n  {\n    const { isLoggedIn } = this.props.userContext;\n    const { email, password, username, tmpAvatar } = this.state;\n    return isLoggedIn ? (\n      // avoid the component to be rendered if user is already logged in\n      <Redirect to=\"/all-recipes\" />\n    ) : (\n      <form\n        className=\"form\"\n        onSubmit={this.handleSubmit}\n        onChange={this.handleChange}\n      >\n        <h1 className=\"title\">Sign up</h1>\n        {this.state.isError === true && <div className=\"error\">email already registered, please sign in</div>}\n        <input\n          className=\"input\"\n          placeholder=\"email\"\n          id=\"email\"\n          type=\"email\"\n          name=\"email\"\n          defaultValue={email}\n        />\n        <input\n          className=\"input\"\n          placeholder=\"username\"\n          id=\"username\"\n          type=\"text\"\n          name=\"username\"\n          defaultValue={username}\n        />\n        <input\n          className=\"input\"\n          placeholder=\"password\"\n          id=\"password\"\n          type=\"password\"\n          name=\"password\"\n          defaultValue={password}\n        />\n        <div className=\"container \"> \n        <label htmlFor=\"\">Upload your avatar</label>\n        <input\n          ref={this.fileInput}\n          type=\"file\"\n          name=\"avatar\"\n          id='avatar'\n          className=\"avatar\"\n          onChange={this.handleImage} \n        />\n        </div>\n        <button className=\"btn\">ok</button>\n        <p className=\"parag\">\n          Already a member ? please{\" \"}\n          <Link to=\"/sign-in\" className=\"linksign\">\n            sign in\n          </Link>\n        </p>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { useState, useEffect } from \"react\";\n\nimport \"./../styles/MyRecipes.css\";\nimport \"./../styles/MyRecipes.css\";\nimport { Link } from \"react-router-dom\";\nimport APIHandler from \"../api/handler\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faTrash,\n  faEdit,\n  faPlusSquare,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport SimpleCard from \"../components/SimpleCard\";\nimport { useAuth } from \"./../auth/UserContext\";\n\nexport default function MyRecipes() {\n  const [recipes, setRecipes] = useState([]); // i need a state\n  const { currentUser } = useAuth();\n\n  useEffect(() => {\n    fetchRecipes();\n    // fetch uniquement quand la valeur de currentUser change (cad passe de null à object dans ce cas)\n  }, [currentUser]);\n\n  const fetchRecipes = async () => {\n    try {\n      const res = await APIHandler.get(\"/my-recipes/\" + currentUser._id);\n      setRecipes(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await APIHandler.delete(`/my-recipes/${id}`);\n      fetchRecipes();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleEdit = async (id) => {\n    try {\n      await APIHandler.get(`/my-recipes/${id}/edit`);\n      fetchRecipes();\n      this.props.history.push(`/my-recipes/${id}`);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    // if (!this.state.recipes) return <div>loading</div>\n\n    <div className=\"my-recipes\">\n      <h1>My recipes</h1>\n      {recipes.length === 0 && (\n        <div className=\"text\">\n          {\" \"}\n          You don't have any recipes yet. Add a recipe !\n        </div>\n      )}\n      <Link to={\"/profile/my-recipes/create\"} className=\"container\">\n        <button className=\"ingredient-add-button\">\n          <i className=\"fas fa-plus-circle\"></i>{\" \"}\n        </button>\n      </Link>\n<div className=\"list-my-recipes\">\n      {recipes.map((element) => {\n        return (\n          <div key={element._id} className=\"all-recipes\">\n            <SimpleCard showLinks={false} recipe={element}></SimpleCard>\n            <div >\n              <Link to={\"/profile/my-recipes/update/\" + element._id}>\n                <FontAwesomeIcon\n                  icon={faEdit}\n                  className=\"edit\"\n                  style={{ cursor: \"pointer\" }}\n                 \n                  onClick={() => handleEdit(element._id)}\n                />\n              </Link>\n              <FontAwesomeIcon\n                icon={faTrash}\n                className=\"trash\"\n                style={{ cursor: \"pointer\" }}\n               \n                onClick={() => handleDelete(element._id)}\n              />\n            </div>\n          </div>\n          \n        );\n      })}\n    </div>\n    </div>\n  );\n}\n","import React, { Component, useEffect, useState } from \"react\";\nimport \"./../styles/MyFavourites.css\";\nimport { useAuth } from \"../auth/UserContext\";\nimport SimpleCard from \"../components/SimpleCard\";\nimport APIHandler from \"../api/handler\";\nimport { Link } from \"react-router-dom\";\n\nexport default function MyFavourites() {\n  const { currentUser } = useAuth();\n  const [FavouritesList, setList] = useState([]);\n\n  useEffect(() => {\n    fetchFavorites();\n  }, [currentUser]);\n\n  const fetchFavorites = () => {\n    APIHandler.get(\"/\" + currentUser?._id)\n      .then((user) => {\n        setList(user.data.favorites);\n      })\n      .catch((error) => console.error(error));\n  };\n\n  return (\n    <div>\n      <h1>My favourites</h1>\n\n      {FavouritesList.length === 0 && (\n        <div className=\"text\">\n          {\" \"}\n          You don't have any favourites yet. <Link to=\"/all-recipes\" className=\"link-recipe\">Add one !</Link>\n        </div>\n      )}\n      <div className=\"list-favorites\">\n        {FavouritesList.map((element) => {\n          return (\n            <div key={element._id} className=\"all-recipes\">\n              <SimpleCard\n                showLinks={false}\n                recipe={element}\n                handler={fetchFavorites}\n              ></SimpleCard>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport APIHandler from \"../api/handler.js\";\nimport { withAuth } from \"../auth/UserContext.js\";\nimport \"./../styles/createForm.css\"\nimport './../styles/SearchIngredients.css';\n\n\nclass CreateForm extends Component {\n  // using the constructor form to associate a ref\n  constructor(props) {\n    console.log(props);\n    super(props); // MANDATORY !!!!\n    this.state = {\n      title: \"\",\n      author: \"\",\n      difficulty: \"easy\",\n      ingredient: \"\",\n      ingredients: [],\n      quantities: [],\n      quantity: \"\",\n      category:\"Meat\",\n      instructions:\"\",\n      image: React.createRef(), // create a reference to attach to the virtual DOM\n      error:false\n    };\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault(); // prevent the form to reload\n    // destructuring the state\n    const { title, difficulty, ingredients, category, quantities, instructions } = this.state;\n    // accessing the image out of the ref\n    const file = this.state.image.current.files[0]; // target the image file associated to the input[type=file]\n    const user = this.props.userContext.currentUser._id;\n    console.log(\"this is user\", user);\n    const uploadData = new FormData(); // create a form data => an object to send as post body\n\n    // appending the keys / values pairs to the FormData\n    uploadData.append(\"title\", title); // create a key [name] on the formDate\n    uploadData.append(\"difficulty\", difficulty); // create a key [age] on the formDate\n    uploadData.append(\"ingredients\", ingredients); // create a key [color] on the formDate\n    uploadData.append(\"quantities\", quantities);\n    uploadData.append(\"category\", category);\n    uploadData.append(\"instructions\", instructions);\n    uploadData.append(\"image\", file);\n    uploadData.append(\"author\", user);\n    try {\n      await APIHandler.post(\"/recipe/create\", uploadData);\n      this.props.history.push(\"./\")\n      console.log(\"this is this props\", this.props.history);\n    } catch (err) {\n      console.error(err);\n      this.setState({\n        error: true\n      })\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  addIngredientBar = (e) => {\n    console.log(\"you are\", e);\n    e.preventDefault();\n    let newIngredients = [...this.state.ingredients];\n    let newQuantities = [...this.state.quantities];\n    newIngredients.push(this.state.ingredient);\n    newQuantities.push(this.state.quantity);\n\n    this.setState({\n      ingredients: newIngredients,\n      ingredient: \"\",\n      quantities: newQuantities,\n      quantity: \"\",\n    });\n  };\n\n  removeIngredientBar = (e, index) => {\n    e.preventDefault()\n    const deleteIngredient = [...this.state.ingredients]\n    deleteIngredient.splice(index, 1)\n    this.setState({\n        ingredients: deleteIngredient,\n        quantities: deleteIngredient,\n        \n      });\n\n  }\n  render() {\n    console.log(\"this is the ingrdients\", this.state);\n    return (\n      <>\n      <h1 className=\"title\">Create your own recipe!</h1>\n      <div className=\"general-wrap\">\n      \n        <form className=\"form-wrap bounce-in-top\">\n          {(this.state.error === true) && <div className=\"error\">Please fill in all the values</div>}\n          <input\n            name=\"title\"\n            type=\"text\"\n            placeholder=\"title\"\n            value={this.state.title}\n            onChange={this.handleChange}\n          />\n          <select\n            name=\"difficulty\"\n            value={this.state.difficulty}\n            onChange={this.handleChange}\n            className=\"input\"\n          >\n            <option value=\"easy\">Easy</option>\n            <option value=\"medium\">Medium</option>\n            <option value=\"difficult\">difficult</option>\n          </select>\n\n          <select\n            name=\"category\"\n            value={this.state.category}\n            onChange={this.handleChange}\n            className=\"input\"\n           >\n            <option value=\"Meat\">Meat</option>\n            <option value=\"Dessert\">Dessert</option>\n            <option value=\"Miscellaneous\">Miscellaneous</option>\n            <option value=\"Pasta\">Pasta</option>\n            <option value=\"Seafood\">Seafood</option>\n            <option value=\"Side\">Side</option>\n            <option value=\"Starter\">Starter</option>\n            <option value=\"Vegan\">Vegan</option>\n            <option value=\"Vegetarian\">Vegetarian</option>\n            <option value=\"Breakfast\">Breakfast</option>\n          </select>\n\n          <input\n            name=\"ingredient\"\n            type=\"text\"\n            placeholder=\"ingredients\"\n            value={this.state.ingredient}\n            onChange={this.handleChange}\n          />\n          <input\n            name=\"quantity\"\n            type=\"text\"\n            placeholder=\"quantities\"\n            value={this.state.quantity}\n            onChange={this.handleChange}\n          />\n\n          <button onClick={this.addIngredientBar}><i className=\"fas fa-plus-circle\"></i></button>\n          <input\n            name=\"instructions\"\n            type=\"text\"\n            placeholder=\"instructions\"\n            value={this.state.instructions}\n            onChange={this.handleChange}\n          />\n          \n          \n\n          {/* THE REF IS HERE */}\n          <input ref={this.state.image} name=\"image\" type=\"file\" />\n          <button onClick={this.handleSubmit}>Create</button>\n        </form>\n\n        <div className=\"info-box\">\n          <h1>information</h1>\n          <table className=\"table\">\n            <tbody>\n              <tr className=\"table-title\">\n                <th>Ingredient</th>\n                <th>Quantity</th>\n              </tr>\n              {this.state.ingredients.map((element, i) => {\n                return (\n                  <tr className=\"ingredients\">\n                    <td key={i}>{element}</td>\n                    <td>{this.state.quantities[i]}</td>\n                    <button onClick={(evt) => this.removeIngredientBar(evt, this.index)}><i className=\"fas fa-trash-alt\"></i></button>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withAuth(CreateForm);\n","import React, { Component } from \"react\";\nimport APIHandler from \"../api/handler.js\";\nimport { withAuth } from \"../auth/UserContext.js\";\nimport \"./../styles/createForm.css\";\nimport { useAuth } from \"./../auth/UserContext\";\n\nclass Updateform extends Component {\n  // using the constructor form to associate a ref\n  constructor(props) {\n    console.log(props);\n    super(props); // MANDATORY !!!!\n    this.state = {\n      title: \"\",\n      author: this.props.userContext.currentUser._id,\n      difficulty: \"\",\n      ingredient: \"\",\n      ingredients: [],\n      quantities: [],\n      quantity: \"\",\n      category: \"\",\n      instructions: \"\",\n      image: \"\",\n      imageInput: React.createRef(), // create a reference to attach to the virtual DOM\n    };\n  }\n\n  componentDidMount = async () => {\n    try {\n      const recipeInfo = await APIHandler.get(\n        \"/all-recipes/\" + this.props.match.params.id\n      );\n      console.log(\"hoaoaoaoao\", recipeInfo);\n      this.setState({\n        title: recipeInfo.data.title,\n        difficulty: recipeInfo.data.difficulty,\n        ingredient: recipeInfo.data.ingredient,\n        ingredients: recipeInfo.data.ingredients,\n        quantities: recipeInfo.data.quantities,\n        quantity: recipeInfo.data.quantity,\n        category: recipeInfo.data.category,\n        instructions: recipeInfo.data.instructions,\n        image: recipeInfo.data.image,\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  handleSubmit = async (e) => {\n    e.preventDefault(); // prevent the form to reload\n    // destructuring the state\n    const {\n      title,\n      author,\n      difficulty,\n      ingredients,\n      category,\n      quantities,\n      instructions,\n      image,\n    } = this.state;\n    // accessing the image out of the ref\n    // const file = this.state.image;\n    // console.log(\"this is file\",file)// target the image file associated to the input[type=file]\n    const uploadData = new FormData(); // create a form data => an object to send as post body\n\n    const finalImage = this.state.imageInput.current.files[0] || image;\n\n    // appending the keys / values pairs to the FormData\n    uploadData.append(\"title\", title); // create a key [name] on the formDate\n    uploadData.append(\"difficulty\", difficulty); // create a key [age] on the formDate\n    uploadData.append(\"ingredients\", ingredients); // create a key [color] on the formDate\n    uploadData.append(\"quantities\", quantities);\n    uploadData.append(\"category\", category);\n    uploadData.append(\"instructions\", instructions);\n    uploadData.append(\"image\", finalImage);\n\n    try {\n      await APIHandler.patch(\n        \"/recipe/update/\" + this.props.match.params.id,\n        uploadData\n      );\n      this.props.history.push(\"/profile/my-recipes\");\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  addIngredientBar = (e) => {\n    console.log(\"you are\", e);\n    e.preventDefault();\n    let newIngredients = [...this.state.ingredients];\n    let newQuantities = [...this.state.quantities];\n    newIngredients.push(this.state.ingredient);\n    newQuantities.push(this.state.quantity);\n\n    this.setState({\n      ingredients: newIngredients,\n      ingredient: \"\",\n      quantities: newQuantities,\n      quantity: \"\",\n    });\n  };\n\n  removeIngredientBar = (e, index) => {\n    e.preventDefault();\n    const deleteIngredient = [...this.state.ingredients];\n    deleteIngredient.splice(index, 1);\n    this.setState({\n      ingredients: deleteIngredient,\n      quantities: deleteIngredient,\n    });\n  };\n\n  render() {\n    console.log(\"this is the ingrdients\", this.props.match.params.id);\n    console.log(\"state\", this.state);\n    return (\n      <>\n        <form>\n          <h1>Update your recipe!</h1>\n          <input\n            name=\"title\"\n            type=\"text\"\n            placeholder=\"title\"\n            value={this.state.title}\n            onChange={this.handleChange}\n          />\n          <select\n            name=\"difficulty\"\n            value={this.state.difficulty}\n            onChange={this.handleChange}\n            className=\"input\"\n          >\n            <option value=\"easy\">Easy</option>\n            <option value=\"medium\">Medium</option>\n            <option value=\"difficult\">difficult</option>\n          </select>\n\n          <select\n            name=\"category\"\n            value={this.state.category}\n            onChange={this.handleChange}\n            className=\"input\"\n          >\n            <option value=\"Meat\">Meat</option>\n            <option value=\"Dessert\">Dessert</option>\n            <option value=\"Miscellaneous\">Miscellaneous</option>\n            <option value=\"Pasta\">Pasta</option>\n            <option value=\"Seafood\">Seafood</option>\n            <option value=\"Side\">Side</option>\n            <option value=\"Starter\">Starter</option>\n            <option value=\"Vegan\">Vegan</option>\n            <option value=\"Vegetarian\">Vegetarian</option>\n            <option value=\"Breakfast\">Breakfast</option>\n          </select>\n\n          <input\n            name=\"ingredient\"\n            type=\"text\"\n            placeholder=\"ingredients\"\n            value={this.state.ingredient}\n            onChange={this.handleChange}\n          />\n          <input\n            name=\"quantity\"\n            type=\"text\"\n            placeholder=\"quantities\"\n            value={this.state.quantity}\n            onChange={this.handleChange}\n          />\n          <input\n            name=\"instructions\"\n            type=\"text\"\n            placeholder=\"instructions\"\n            value={this.state.instructions}\n            onChange={this.handleChange}\n          />\n\n          <button onClick={this.addIngredientBar}>+</button>\n\n          {/* THE REF IS HERE */}\n          <input ref={this.state.imageInput} name=\"image\" type=\"file\" />\n          <button onClick={this.handleSubmit}>ok</button>\n        </form>\n\n        <div>\n          <h1>information</h1>\n          <table>\n            <thead>\n              <tr>\n                <th>Ingredients</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <th>Ingredient</th>\n                <th>Quantity</th>\n              </tr>\n              {this.state.ingredients.map((element, i) => {\n                return (\n                  <tr>\n                    <td key={i}>{element}</td>\n                    <td>{this.state.quantities[i]}</td>\n                    <button\n                      onClick={(evt) =>\n                        this.removeIngredientBar(evt, this.index)\n                      }\n                    >\n                      <i className=\"fas fa-trash-alt\"></i>\n                    </button>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withAuth(Updateform);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useAuth } from \"./UserContext\";\n\n/* \n...foo\n@mdn : A function's last parameter can be prefixed with \"...\"\nwhich will cause all remaining (user supplied) arguments to be placed within a \"standard\" javascript array. \nOnly the last parameter can be a \"rest parameter\".\n*/\n// line below : use of the rest parameter\nexport const ProtectedRoute = ({ component: Component, ...rest }) => {\n  const { isLoggedIn, isLoading } = useAuth();\n  // return default template while performing async auth task\n  // isLoading is true while we come \n  if (isLoading) return <div>Loading...</div>;\n  return isLoggedIn ? (\n    // if logged in, return a regular Route component\n    // this Route gets any passed (...rested) props in a literal object\n    // then we pass the rested props AND the routes props (history, location, match) ...\n    // to the rendered Component (in this case Dashboard)\n    <Route {...rest} render={(props) => <Component {...props} />} />\n  ) : (\n    // if not logged in redirect to signin\n    <Redirect to=\"/sign-in\" />\n  );\n};\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport React, { useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport OneRecipe from \"./views/recipe\";\nimport NavMain from \"./components/NavMain\";\nimport NotFound from \"./views/NotFound\";\nimport Home from \"./views/Home\";\nimport Signin from \"./views/SignIn\";\nimport SignUp from \"./views/SignUp\";\n//import { ProtectedRoute } from \"./auth/ProtectedRoute\";\nimport { UserContextProvider } from \"./auth/UserContext\";\nimport Footer from \"./components/Footer\";\nimport AllRecipes from \"./views/AllRecipes\";\nimport MyRecipes from \"./views/MyRecipes\";\n\nimport MyFavourites from \"./views/MyFavourites\"\n// import { useAuth } from \"../src/auth/UserContext\";\nimport CreateForm from \"./components/CreateForm.jsx\"\nimport UpdateForm from \"./components/UpdateForm.jsx\"\nimport { ProtectedRoute} from \"./auth/ProtectedRoute\"\n\nfunction App() {\n  // const { isLoggedIn } = useAuth();\n  // const { currentUser } = useAuth();\n  return (\n    <UserContextProvider>\n      <div className=\"App\">\n        <NavMain />\n        \n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/sign-in\" component={Signin}></Route>\n          <Route path=\"/signup\" component={SignUp}></Route>\n          <ProtectedRoute exact path=\"/profile/my-recipes\" component={MyRecipes} />\n          <ProtectedRoute path=\"/profile/my-recipes/create\" component ={CreateForm} /> \n          <ProtectedRoute path=\"/profile/my-recipes/update/:id\" component ={UpdateForm} />   \n          <ProtectedRoute path=\"/profile/my-favourites\" component={MyFavourites} />\n          <Route path=\"/all-recipes/:id\" component={OneRecipe} />\n          <Route exact path=\"/all-recipes\" component={AllRecipes} />\n          <Route path=\"*\" component={NotFound} />\n        </Switch>\n</div>\n    </UserContextProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\nimport {UserContextProvider} from './auth/UserContext' \n\n\nReactDOM.render(\n\n  <BrowserRouter>\n    <UserContextProvider>\n      <App />\n    </UserContextProvider>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}