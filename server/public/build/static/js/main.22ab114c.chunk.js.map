{"version":3,"sources":["api/handler.js","auth/UserContext.js","components/Comment.jsx","components/ratingStars.jsx","components/Favorite.js","views/recipe.jsx","components/SignInButton.jsx","components/IconSignOut.jsx","components/ProfileMenu.jsx","components/NavMain.js","views/NotFound.jsx","components/SearchIngredients.jsx","views/Home.jsx","views/SignIn.jsx","views/SignUp.jsx","components/SimpleCard.jsx","components/FilterMenu.jsx","views/AllRecipes.jsx","views/MyRecipes.jsx","views/MyFavourites.jsx","components/CreateForm.jsx","components/UpdateForm.jsx","auth/ProtectedRoute.jsx","App.js","reportWebVitals.js","index.js"],"names":["APIHandler","axios","create","baseURL","process","withCredentials","UserContext","React","createContext","UserContextProvider","props","useState","currentUser","setCurrentUser","isLoading","setIsLoading","useEffect","get","then","res","data","catch","isLoggedIn","Boolean","Provider","value","children","withAuth","MyComponent","Consumer","context","userContext","useAuth","useContext","Comment","state","message","date","Date","now","recipe","idRecipe","comments","didMount","updateComments","a","recipeId","response","setState","console","error","handleChange","e","target","handleSubmit","preventDefault","post","userId","this","className","action","type","placeholder","onChange","onClick","to","length","map","comment","i","slice","src","author","avatar","alt","username","_id","Component","RatingStars","rating","setRating","hover","setHover","Array","star","index","onMouseEnter","onMouseLeave","Favorite","isFavorite","setFavorite","tmp","favorites","includes","id","handleClick","removeFromFavorite","addtoFavorite","newFavorites","handler","icon","faHeart","size","color","Recipe","setRecipe","steps","RegExp","noSteps","fetchRecipes","match","params","location","showLinks","pathname","searchFromOneRecipe","class","image","title","infoRecipe","difficulty","ingredients","product","width","quantities","test","instructions","split","instruction","SignInButton","faUser","withRouter","finally","faSignOutAlt","ProfileMenu","showProfileMenu","toggleProfileMenu","faSortDown","NavMain","exact","activeClassName","reset","Page404","ingredientsFromHome","ingredientsFromState","setIngredients","onIngredientInput","log","el","evt","newArray","newIngredients","splice","removeIngredientBar","Home","history","push","search","URLSearchParams","toString","Signin","email","setEmail","password","setPassword","isError","setIsError","apiRes","onSubmit","Signup","tmpAvatar","fileInput","createRef","fd","FormData","append","current","files","name","handleImage","defaultValue","htmlFor","ref","SimpleCard","previousSearchParams","category","FilterMenu","categories","showMenu","setShowMenu","booleansForCheckbox","categoryFilter","onNameInput","nameFilter","checked","onCategoryInput","ingredientsFilter","AllRecipes","fetchData","newCategory","updatedCategories","indexOf","ingredientFilter","recipes","err","searchString","url","ingredientParams","prevProps","element","MyRecipes","setRecipes","handleDelete","delete","handleEdit","faEdit","style","cursor","faTrash","MyFavourites","FavouritesList","setList","fetchFavorites","user","CreateForm","file","uploadData","addIngredientBar","newQuantities","ingredient","quantity","deleteIngredient","deleteQuantities","Updateform","componentDidMount","recipeInfo","finalImage","imageInput","patch","ProtectedRoute","component","rest","render","App","path","SignUp","UpdateForm","OneRecipe","NotFound","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.22ab114c.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst APIHandler = (() => {\n  return axios.create({\n    baseURL: process.env.REACT_APP_BACKEND_URL,\n    withCredentials: true,\n  });\n})();\n\nexport default APIHandler;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport APIHandler from \"./../api/handler\";\n\nexport const UserContext = React.createContext();\n\n/**\n *\n * @param {Object} props\n * @returns a Provider wrappinng the authentication logic\n */\nexport const UserContextProvider = (props) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    APIHandler.get(\"/is-loggedin\")\n      .then((res) => {\n        setIsLoading(false);\n        setCurrentUser(res.data.currentUser);\n      })\n      .catch(() => {\n        setCurrentUser(null);\n        setIsLoading(false);\n      });\n  }, []);\n\n  const isLoggedIn = Boolean(currentUser); // checked on every render => passed to the\n\n  return (\n    <UserContext.Provider\n      value={{ currentUser, isLoading, isLoggedIn, setCurrentUser }}\n    >\n      {!isLoading ? props.children : null}\n    </UserContext.Provider>\n  );\n};\n\n/**\n * provide the UserContext to class/ based components\n * in  classes, the UserContext is bound to this.props.userContext\n * @param {React.Component} MyComponent any class based component\n * @returns A consumer component accessign the values exposed by the UserContext\n */\nexport const withAuth = (MyComponent) => {\n  return (props) => {\n    return (\n      <UserContext.Consumer>\n        {(context) => {\n          return <MyComponent {...props} userContext={context} />;\n        }}\n      </UserContext.Consumer>\n    );\n  };\n};\n\n/**\n * a utility function (shortcut) so you don't have to import the Context + useContext in you app's functionnal components\n * @returns\n */\nexport const useAuth = () => useContext(UserContext);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport APIHandler from \"./../api/handler\";\nimport \"./../styles/Comment.css\";\nimport { withAuth } from \"../auth/UserContext\";\n\nclass Comment extends Component {\n  state = {\n    message: \"\",\n    date: Date.now(),\n    recipe: this.props.idRecipe,\n    comments: [],\n    didMount: false,\n  };\n\n  async componentDidMount() {\n    this.updateComments();\n  }\n\n  updateComments = async () => {\n    try {\n      const response = await APIHandler.get(\"/comments/\" + this.props.recipeId);\n      this.setState({\n        comments: response.data,\n        didMount: true,\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      message: e.target.value,\n    });\n  };\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      await APIHandler.post(\n        \"/comments/\" + this.props.userId + \"/\" + this.props.recipeId,\n        this.state\n      );\n      this.updateComments();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  render() {\n    if (!this.state.didMount) return <div>loading</div>;\n    return (\n      <div className=\"comments\">\n        <div className=\"header\">\n          <h1 className=\"title\">Leave a comment</h1>\n          <form action=\"\" >\n            <input\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"leave a comment here ..\"\n              onChange={this.handleChange}\n            />\n\n            {this.props.userContext.isLoggedIn === true && (\n              <button  onClick={this.handleSubmit}>\n                send !\n              </button>\n            )}\n\n            {this.props.userContext.isLoggedIn === false && (\n              <Link to=\"/sign-in\"><button className=\"btn\" >\n                send !\n              </button>\n              </Link>\n            )}\n          </form>\n        </div>\n        \n   \n        {!this.state.comments.length ? (\n          <div className=\"comment\"> no comments yet </div>\n        ) : (\n          this.state.comments.map((comment, i) => {\n            return (\n              <div className=\"comment\" key={comment._id}>\n                <div className=\"date\">\n                  {comment.date.slice(0, 10)} {comment.date.slice(11, 19)}{\" \"}\n                </div>\n                <div className=\"author-infos\">\n                  <img\n                    className=\"avatar\"\n                    src={comment.author?.avatar}\n                    alt=\"user-avatar\"\n                  />\n                  <b>{comment.author?.username}</b>\n                </div>\n   \n                <div className=\"message\"><div>{comment.message}</div></div>\n              </div>\n            );\n          })\n        )}\n        </div>\n      \n    );\n  }\n}\n\nexport default withAuth(Comment);\n","import React from 'react'\nimport \"./../styles/starRating.css\"\nimport APIHandler from \"../api/handler\";\nimport  { useState, useEffect } from \"react\";\n\nconst RatingStars = (props) => {\n    const [rating, setRating] = useState(0);\n    const [hover, setHover] = useState(0);\n\n\n\n    return (\n      <div className=\"star-rating\">\n        {[...Array(5)].map((star, index) => {\n          index += 1;\n          return (\n            <button\n              type=\"button\"\n              key={index}\n              className={index <= (hover || rating) ? \"on\" : \"off\"}\n              onClick={() => setRating(index)}\n              onMouseEnter={() => setHover(index)}\n              onMouseLeave={() => setHover(rating)}\n            >\n              <span className=\"star\">&#9733;</span>\n            </button>\n          );\n        })}\n      </div>\n    );\n}\n\nexport default RatingStars\n","import React, { useState, useEffect } from \"react\";\nimport APIHandler from \"../api/handler\";\nimport \"./../styles/Favorite.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\n//import { faHeartB } from \"@fortawesome/free-regular-svg-icons/faHeart\";\nimport { useAuth } from \"../auth/UserContext\";\n\nexport default function Favorite(props) {\n  const { currentUser, setCurrentUser } = useAuth();\n  const [isFavorite, setFavorite] = useState(false);\n  //const [listFavorites, setFavoritesList] = useState([]);\n\n  useEffect(() => {\n    const tmp = currentUser?.favorites.includes(props.id);\n    setFavorite(tmp);\n  }, [currentUser]);\n\n  const handleClick = () => {\n    if (isFavorite === true) {\n      removeFromFavorite();\n    } else {\n      addtoFavorite();\n    }\n  };\n\n  const addtoFavorite = () => {\n    APIHandler.get(\n      \"/all-recipes/add-to-favorite/\" + currentUser._id + \"/\" + props.id\n    )\n      .then((recipe) => {\n        const oldFavorites = [...currentUser.favorites];\n\n        const newFavorites = recipe.data.favorites;\n\n        setCurrentUser({ ...currentUser, favorites: newFavorites }\n        );\n      })\n      .catch((error) => console.error(error));\n  };\n\n  const removeFromFavorite = () => {\n    APIHandler.get(\n      \"/all-recipes/remove-from-favorite/\" + currentUser._id + \"/\" + props.id\n    )\n      .then((recipe) => {\n        if (props.handler) props.handler();\n        //const oldFavorites = [...currentUser.favorites];\n        const newFavorites = recipe.data.favorites;\n        setCurrentUser({ ...currentUser, favorites: newFavorites });\n      })\n      .catch((error) => console.error(error));\n  };\n\n  return (\n    <div>\n      {isFavorite ? (\n        <button className=\"isFavorite\" onClick={handleClick}>\n          <FontAwesomeIcon\n            className=\"coeur-plein\"\n            icon={faHeart}\n            size=\"2x\"\n            color=\"#d18110\"\n          />\n          <i className=\"far fa-heart coeur-vide fa-2x\"></i>\n        </button>\n      ) : (\n        <button className=\"isNotFavorite\" onClick={handleClick}>\n          <FontAwesomeIcon\n            className=\"coeur-plein\"\n            icon={faHeart}\n            size=\"2x\"\n            color=\"#d18110\"\n          />\n          <i className=\"far fa-heart coeur-vide fa-2x\"></i>\n        </button>\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"./../styles/ingredients.css\";\nimport APIHandler from \"../api/handler\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../auth/UserContext\";\nimport Comment from \"../components/Comment\";\nimport StarReating from \"../components/ratingStars\";\nimport Favorite from \"../components/Favorite\";\n\nfunction Recipe(props) {\n  const [recipe, setRecipe] = useState([]);\n  //const [image, setImage] = useState([]);\n  const steps = new RegExp(/[0-9]+\\./, \"g\");\n  const noSteps = new RegExp(/\\.\\s/, \"g\");\n  const { currentUser } = useAuth();\n\n\n  // Similar a componentDidMount y componentDidUpdate:\n\n  useEffect(() => {\n    fetchRecipes();\n  }, []);\n\n  const fetchRecipes = async () => {\n    try {\n      const res = await APIHandler.get(\"/all-recipes/\" + props.match.params.id);\n      setRecipe(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  \n\n  return (\n    <>\n      {props.location.state?.showLinks && (\n        <div className=\"back-links-container\">\n          <Link to=\"./\" className=\"back-links\">\n            Back to all recipes\n          </Link>\n          <Link\n            to={{\n              pathname: \"/all-recipes\",\n              searchFromOneRecipe: props.location.state,\n            }}\n            className=\"back-links\"\n          >\n            Back to my search\n          </Link>\n        </div>\n      )}\n\n      <div className=\"container\">\n        <div className=\"shadow-drop-2-center wrapper\">\n          <div className=\"favorite\">\n            {currentUser && <Favorite id={props.match.params.id} />}\n            {!currentUser && (\n              <Link to=\"/sign-in\" className=\"isNotFavorite\">\n                <i class=\"fas fa-heart coeur-plein fa-3x\"></i>\n                <i className=\"far fa-heart coeur-vide fa-3x\"></i>\n              </Link>\n            )}\n          </div>\n          <div>\n            <img src={recipe.image} alt={recipe.title} />\n            <h1>{recipe.title}</h1>\n            <StarReating infoRecipe={props} />\n          </div>\n\n          <h2 className=\"difficulties\">Level: {recipe.difficulty}</h2>\n\n          <div className=\"wrapper-ingredients\">\n            {recipe.ingredients?.map((product, i) => {\n              return (\n                <div key={i} className=\"wrapp-ingredient shadow-drop-2-center \">\n                  <h3>{product}</h3>\n                  <img\n                    src={\n                      \"https://themealdb.com/images/ingredients/\" +\n                      product +\n                      \".png\"\n                    }\n                    width=\"40px\"\n                  />\n                  <p>{recipe.quantities[i]}</p>\n                </div>\n              );\n            })}\n          </div>\n          <div className=\"instructions-list\">\n            {steps.test(recipe.instructions)}\n            <ul>\n              {steps.test(recipe.instructions)\n                ? recipe.instructions\n                    ?.split(steps)\n                    .map((instruction) => <li>{instruction}</li>)\n                : recipe.instructions\n                    ?.split(noSteps)\n                    .map((instruction) => <li>{instruction}</li>)}\n            </ul>\n          </div>\n          <div className=\"comment-section\">\n            <Comment\n              userId={currentUser?._id}\n              recipeId={props.match.params.id}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Recipe;\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport \"./../styles/SignInButton.css\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUser } from '@fortawesome/free-solid-svg-icons'\n\nexport default function SignInButton() {\n    return (\n        <div className=\"signin\">\n        <FontAwesomeIcon icon={faUser} className=\"fa\" />\n            <p>Connexion</p>\n        </div>\n\n\n\n    )\n}\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport APIHandler from \"../api/handler.js\";\nimport { useAuth } from \"../auth/UserContext\";\nimport \"./../styles/IconSignOut.css\"\n\nexport default withRouter(function IconSignout(props) {\n  const { setCurrentUser } = useAuth();\n\n  const handleSignout = () =>\n    APIHandler.post(\"/signout\").finally(() => {\n      setCurrentUser(null);\n    });\n\n  return (\n    <FontAwesomeIcon\n      onClick={handleSignout}\n      className=\"link icon-signout is-clickable\"\n      icon={faSignOutAlt}\n      size=\"xs\"\n      title=\"signout\"\n    />\n  );\n});\n","import React, { Component } from \"react\";\nimport \"./../styles/ProfileMenu.css\";\nimport { Link } from \"react-router-dom\";\nimport IconSignOut from \"./IconSignOut\";\n//import ProfileButton from \"./ProfileButton\";\nimport \"./../styles/SignInButton.css\";\n//import { useAuth } from \"./../auth/UserContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCarrot, fas, faSortDown } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class ProfileMenu extends Component {\n  state = {\n    showProfileMenu: true,\n  };\n\n  toggleProfileMenu = () => {\n    this.setState({\n      showProfileMenu: !this.state.showProfileMenu,\n    });\n  };\n  render() {\n    return (\n      <div className=\"connected-menu\">\n        <div className=\"signin\" onClick={() => this.toggleProfileMenu()}>\n          <img src={this.props.avatar} alt=\"avatar\" className='img-avatar' />\n          <p>{this.props.username}</p>\n          <FontAwesomeIcon icon={faSortDown} className=\"fa\" />\n          {!this.state.showProfileMenu && (\n          <div className=\"hidden-menu\">\n            <Link className=\"link\" to=\"/profile/my-recipes\">My recipes</Link>\n            <Link className=\"link\" to=\"/profile/my-favourites\">My favourites</Link>\n            <IconSignOut className=\"link signin\" />\n          </div>\n        )}\n        </div>\n\n      </div>\n    );\n  }\n}\n","import { NavLink } from \"react-router-dom\";\nimport React from \"react\";\nimport SignInButton from \"./SignInButton\";\nimport \"./../styles/NavMain.css\";\nimport { useAuth } from \"./../auth/UserContext\";\nimport ProfileMenu from \"./ProfileMenu\";\n\n\nexport default function NavMain() {\n  const { isLoggedIn } = useAuth();\n  const { currentUser } = useAuth();\n  return (\n    <nav id=\"nav_main\" className=\"nav\">\n      <NavLink exact className=\"link logo\" activeClassName=\"is-active\" to=\"/\">\n        <img\n          className=\"logo-fridge\"\n          src=\"./../../FridgeIcon.png\"\n          alt=\"fridge-logo\"\n        ></img>\n        <img\n          className=\"title-logo\"\n          src=\"./../../title-bon-app.png\"\n          alt=\"bon-app\"\n        />\n      </NavLink>\n      <NavLink\n        className=\"link title\"\n        activeClassName=\"is-active\"\n        to={{pathname: \"/all-recipes\", reset: true}}\n\n      >\n        All Recipes\n      </NavLink>\n\n      {isLoggedIn === false && (\n        <>\n          <NavLink\n            className=\"link signin\"\n            activeClassName=\"is-active\"\n            to=\"/sign-in\"\n          >\n            <SignInButton />\n          </NavLink>\n        </>\n      )}\n\n      {isLoggedIn === true && (\n        <>\n        <ProfileMenu username={currentUser.username} avatar={currentUser.avatar}/>\n        </>\n      )}\n    </nav>\n  );\n}\n","import { Link } from \"react-router-dom\";\n\nexport default function Page404() {\n  return (\n    <div className=\"not-found\">\n      <h1 className=\"title\">404</h1>\n      <span>Oh no !!!</span>\n      <span>You seem lost friend :(</span>\n      <span>\n        Go back to the &nbsp;<Link to=\"/\">home page</Link>\n      </span>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router';\nimport './../styles/SearchIngredients.css';\n\nfunction SearchIngredients(props) {\n    const [ingredients, setIngredients] = useState(props?.ingredientsFromHome || props?.ingredientsFromState || [\"\"]);\n    // console.log(\"the ingredients are: \", ingredients)\n\n    useEffect(() => {\n        if (typeof props.onIngredientInput === \"function\") {\n        props.onIngredientInput(ingredients)\n        console.log(\"i am in use effect and the ingredients are: \", ingredients)\n        if (props?.reset) {\n            console.log(\"reset got to useeffect in searchingredient\")\n            setIngredients(props.ingredientsFromState)\n        }\n    }\n    }, [ingredients])\n\n    const addIngredientBar = (e) => {\n        e.preventDefault()\n        setIngredients([...ingredients, \"\"])\n    }\n\n    const removeIngredientBar = (e, index) => {\n        e.preventDefault()\n        const newIngredients = [...ingredients]\n        newIngredients.splice(index, 1)\n        setIngredients(newIngredients)\n    }\n\n    const handleChange = (evt, index) => {\n        console.log(\"yep smtg definitely changed\")\n        let newArray = [...ingredients];\n        newArray[index] = evt.target.value;\n        console.log(\"and the new ingredients are...\", newArray)\n        setIngredients(newArray)\n    }\n\n    return (\n        <div>\n            <form>\n                {\n                    ingredients.map((el, index) => {\n                        return(\n                        <div className=\"one-ingredient\" key={index} >\n                                    \n                                    <img className=\"ingredient-image\" src={\"https://themealdb.com/images/ingredients/\" + ingredients[index] + \".png\"} alt=\"\"/>\n                                    <input className=\"add-ingredient\" type=\"text\" value={ingredients[index]} onChange={(evt) => handleChange(evt, index)} />\n                                    {\n                                        ingredients.length > 0 && <button className=\"ingredient-delete\" onClick={(evt) => removeIngredientBar(evt, index)}><i className=\"fas fa-trash-alt\"></i></button>\n                                    }\n                                    \n                                    <br/>\n                                   \n                        </div>\n                        )\n                    })\n                    \n                }\n              \n                {(ingredients.length<5) && <button className=\"ingredient-add-button\" onClick={addIngredientBar}><i className=\"fas fa-plus-circle\"></i></button>}\n   \n            </form>\n        </div>\n    )\n}\n\nexport default withRouter(SearchIngredients)","import React, { useState } from 'react'\nimport SearchIngredients from \"./../components/SearchIngredients.jsx\";\nimport { Link } from \"react-router-dom\";\nimport './../styles/Home.css';\n\nexport default function Home(props) {\n\n    const [ingredients, setIngredients] = useState([])\n\n    const findYourRecipe = () => {\n       props.history.push({pathname: \"/all-recipes\", search: new URLSearchParams({ingredients: ingredients}).toString()})\n    }\n\n    const onHomeIngredientInput = (newIngredients) => {\n        setIngredients(newIngredients)\n    }\n\n    return (\n        <div className=\"main-home\">\n            <div className=\"left-home\">\n                <img className=\"logo-home\" src=\"title-bon-app.png\" alt=\"BonApp\" />\n                <p>Add your ingredients</p>\n                <SearchIngredients onIngredientInput={onHomeIngredientInput}/>\n                <button className=\"find-recipe-btn\" onClick={findYourRecipe}>Find your recipe</button>\n            </div>\n            <Link className=\"fridge-container\" to=\"/all-recipes\">\n                <img className=\"fridge\" src=\"openingFridge.gif\" alt=\"fridge opening\" />\n            </Link>\n        </div>\n    )\n}\n","import React, { useState } from \"react\";\n\nimport { Link, Redirect } from \"react-router-dom\";\n// custom tools\nimport { useAuth } from \"../auth/UserContext\";\nimport APIHandler from \"./../api/handler.js\";\nimport \"./../styles/form.css\";\n\nexport default function Signin(props) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { isLoggedIn, setCurrentUser } = useAuth();\n  const [isError, setIsError] = useState(false)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const apiRes = await APIHandler.post(\"/signin\", { email, password });\n      setCurrentUser(apiRes.data.currentUser);\n      setIsError(false);\n    } catch (err) {\n      setCurrentUser(null);\n      setIsError(true)\n      // status, error\n    }\n  };\n\n  return isLoggedIn ? (\n    <Redirect to=\"/all-recipes\" />\n  ) : (\n    <form className=\"form\" onSubmit={handleSubmit}>\n      <h1 className=\"title\">Sign in</h1>\n      {/* <label className=\"label\" htmlFor=\"email\">\n        email\n      </label> */}\n      {isError === true && <div className=\"error title\">invalid credentials</div>}\n      <input\n        className=\"input\"\n        placeholder=\"email\"\n        id=\"email\"\n        type=\"email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      {/* <label className=\"label\" htmlFor=\"password\">\n        password\n      </label> */}\n      <input\n        className=\"input\"\n        placeholder=\"password\"\n        id=\"password\"\n        type=\"password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n      />\n      <button className=\"btn\">ok</button>\n      <p className=\"parag\">\n        No account yet ? please{\" \"}\n        <Link to=\"/signup\" className=\"linksign\">\n          sign up\n        </Link>\n      </p>\n    </form>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n// custom tools\nimport APIHandler from \"./../api/handler.js\";\n//import IconAvatarAdmin from \"./../components/IconAvatarAdmin\";\nimport { withAuth } from \"./../auth/UserContext\";\n// styles\nimport \"./../styles/form.css\";\nimport \"./../../src/styles/icon-avatar.css\";\n\nclass Signup extends Component {\n  state = {\n    avatar: '',\n    tmpAvatar: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    isError: false\n  };\n  fileInput = React.createRef()\n  \n  handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const fd = new FormData();\n    // create a form data (programatic form, to send the file as binary)\n    fd.append(\"email\", this.state.email);\n    fd.append(\"password\", this.state.password);\n    fd.append(\"username\", this.state.username);\n    if (this.fileInput.current.files[0]) {\n      fd.append('avatar', this.fileInput.current.files[0])\n    }\n\n    try {\n      await APIHandler.post(\"/signup\", fd);\n      this.props.history.push(\"/sign-in\");\n    } catch (err) {\n      console.error(err);\n      this.setState({\n        isError: true\n      })\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleImage = (e) => {\n    this.setState({ avatar: e.target.files[0] }\n    );\n  };\n\n  \n\n  render() \n  {\n    const { isLoggedIn } = this.props.userContext;\n    const { email, password, username, tmpAvatar } = this.state;\n    return isLoggedIn ? (\n      // avoid the component to be rendered if user is already logged in\n      <Redirect to=\"/all-recipes\" />\n    ) : (\n      <form\n        className=\"form\"\n        onSubmit={this.handleSubmit}\n        onChange={this.handleChange}\n      >\n        <h1 className=\"title\">Sign up</h1>\n        {this.state.isError === true && <div className=\"error\">email already registered, please sign in</div>}\n        <input\n          className=\"input\"\n          placeholder=\"email\"\n          id=\"email\"\n          type=\"email\"\n          name=\"email\"\n          defaultValue={email}\n        />\n        <input\n          className=\"input\"\n          placeholder=\"username\"\n          id=\"username\"\n          type=\"text\"\n          name=\"username\"\n          defaultValue={username}\n        />\n        <input\n          className=\"input\"\n          placeholder=\"password\"\n          id=\"password\"\n          type=\"password\"\n          name=\"password\"\n          defaultValue={password}\n        />\n        <div className=\"container \"> \n        <label htmlFor=\"\">Upload your avatar</label>\n        <input\n          ref={this.fileInput}\n          type=\"file\"\n          name=\"avatar\"\n          id='avatar'\n          className=\"avatar\"\n          onChange={this.handleImage} \n        />\n        </div>\n        <button className=\"btn\">ok</button>\n        <p className=\"parag\">\n          Already a member ? please{\" \"}\n          <Link to=\"/sign-in\" className=\"linksign\">\n            sign in\n          </Link>\n        </p>\n      </form>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\"\nimport \"./../styles/SimpleCard.css\";\nimport Favorite from './Favorite';\n//import { useAuth } from \"./../auth/UserContext\";\nimport { withAuth } from './../auth/UserContext';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\n\n\nclass SimpleCard extends Component {\n    render() \n    {\n\n        return (\n            <div className=\"simple-card\">\n            <div className=\"favorite\">\n            {this.props.userContext.isLoggedIn === true && (<Favorite handler={this.props.handler} id={this.props.recipe._id}/>)}\n            {this.props.userContext.isLoggedIn === false && (<Link to=\"/sign-in\" className=\"isNotFavorite\"><FontAwesomeIcon className=\"coeur-plein\" icon={faHeart} size=\"2x\" color=\"#d18110\" /><i className=\"far fa-heart coeur-vide fa-2x\"></i></Link>)}\n</div>\n\n \n           \n            {/* {this.props.userContext.isLoggedIn === true && (<Favorite handler={this.props.handler} id={this.props.recipe._id}/>)} */}\n       \n\n            <Link to={{pathname:\"/all-recipes/\" + this.props.recipe._id, state: {...this.props.previousSearchParams, showLinks: this.props.showLinks}}} className=\"link\">\n           \n            \n\n            <img src={this.props.recipe.image}  alt=\"recipe\" />\n                <h1 className=\"title-simple-card\">{this.props.recipe.title}</h1>\n               \n                <p className= \"title-difficulty\"><i>{this.props.recipe.category}</i></p>\n                </Link>\n                </div>\n            \n        )\n    }\n}\n\nexport default withAuth(SimpleCard)\n","import React, { useState, useEffect } from \"react\";\nimport SearchIngredients from \"./SearchIngredients\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./../styles/filterMenu.css\";\n\nexport default function FilterMenu(props) {\n  const categories = [\n    \"Meat\",\n    \"Dessert\",\n    \"Miscellaneous\",\n    \"Pasta\",\n    \"Seafood\",\n    \"Side\",\n    \"Starter\",\n    \"Vegan\",\n    \"Vegetarian\",\n    \"Breakfast\",\n  ];\n\n  const [showMenu, setShowMenu] = useState(false);\n\n  const toggleMenu = () => {\n    setShowMenu(!showMenu);\n  };\n\n  let booleansForCheckbox = categories.map((category) =>\n    props.state?.categoryFilter.includes(category)\n  );\n\n  useEffect(() => {\n    booleansForCheckbox = categories.map((category) =>\n      props.state?.categoryFilter.includes(category)\n    );\n  });\n\n  return (\n    <div className=\"search-menu\">\n      <div className=\"search-bar-with-btn\">\n        <form>\n          <input\n            className=\"search-bar\"\n            type=\"text\"\n            placeholder=\"Search by name\"\n            onChange={props.onNameInput}\n            value={props.state.nameFilter}\n          ></input>\n        </form>\n        <button className=\"filter-btn\" onClick={toggleMenu}>\n          <i className=\"fal fa-sliders-v\"></i>\n        </button>\n      </div>\n      {showMenu && (\n        <div className=\"filter-menu\">\n          <div className=\"category-menu\">\n            <h3>Categories</h3>\n            <div className=\"all-categories\">\n              {categories.map((category, index) => {\n                return (\n                  <span key={category} className=\"one-category\">\n                    <input\n                      checked={booleansForCheckbox[index]}\n                      type=\"checkbox\"\n                      onChange={(e) => props.onCategoryInput(e, category)}\n                    />\n                    <label>{category}</label>\n                  </span>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"ingredients-menu\">\n            <h3>Ingredients</h3>\n            <SearchIngredients\n              onIngredientInput={props.onIngredientInput}\n              ingredientsFromHome={props.ingredientsFromHome}\n              ingredientsFromState={props.state.ingredientsFilter}\n            />\n          </div>\n        </div>\n      )}\n      {showMenu && (\n        <Link\n          to={{ pathname: \"/all-recipes\", reset: true }}\n          className=\"filter-btn\"\n        >\n          <i className=\"fas fa-redo\"></i>\n        </Link>\n      )}\n      {/* this condition on Link seems idiotic but it's better this way for styling */}\n    </div>\n  );\n}","import React, { Component } from \"react\";\nimport APIHandler from \"../api/handler\";\nimport \"./../styles/AllRecipes.css\";\nimport SimpleCard from \"../components/SimpleCard\";\nimport FilterMenu from \"../components/FilterMenu\";\nimport { Link } from \"react-router-dom\"\n\nexport default class AllRecipes extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      recipes: null,\n      nameFilter: null,\n      ingredientFilter: [],\n      categoryFilter: [],\n      searchString: \"\"\n    };\n  }\n\n  componentDidMount() {\n    // if we came from Home, we have to use the location parameters\n    const url = new URLSearchParams(this.props.location.search)\n    let ingredientParams = [\"\"];\n    if (typeof url.get('ingredients') === \"string\") ingredientParams = url.get('ingredients').split(',')\n    \n    // if we came from the details of one recipe, we want to display the same search as before\n    // with props.location.searchFromOneRecipe\n    let name = \"\"; \n    let categories = [];\n    if (this.props.location.searchFromOneRecipe) {\n      ingredientParams = this.props.location.searchFromOneRecipe.ingredients;\n      name = this.props.location.searchFromOneRecipe.name;\n      categories = this.props.location.searchFromOneRecipe.category;\n    }\n\n    this.setState({ingredientFilter: ingredientParams, nameFilter: name, categoryFilter: categories}, () => this.fetchData())\n    \n  }\n\n  componentDidUpdate (prevProps) {\n    // If the user clicked on All recipes, we need to reset all parameters of the search to empty\n\n    if (prevProps === this.props) return\n    if (this.props.location?.reset) {\n      this.setState({\n        ingredientFilter: [\"\"], \n        nameFilter: \"\", \n        categoryFilter: []\n      }, () => this.fetchData())\n      this.props.location.reset = false;\n  }\n  }\n  // Three functions handling the changes in the 3 parts of the filter\n\n  onNameInput = (evt) => {\n    this.setState({ nameFilter: evt.target.value }, () => {\n      this.fetchData();\n    });\n  };\n\n  onCategoryInput = (evt, newCategory) => {\n    let updatedCategories = [...this.state.categoryFilter];\n    if (this.state.categoryFilter.includes(newCategory)) {\n      updatedCategories.splice(updatedCategories.indexOf(newCategory), 1);\n    } else {\n      updatedCategories.push(newCategory);\n    }\n    this.setState({categoryFilter: updatedCategories}, () => {\n        this.fetchData();\n    })\n  }\n\n  onIngredientInput = (ingredients) => {\n    this.setState({ ingredientFilter: [...ingredients] }, () => {\n      this.fetchData();\n    });\n  }\n\n  // The function calls the API to get the data corresponding to the 3 filters\n  fetchData = () => {\n    APIHandler\n        .get(\"/all-recipes\", {\n            params: {\n                name: this.state.nameFilter,\n                category: this.state.categoryFilter,\n                ingredients: this.state.ingredientFilter\n            },\n        })\n        .then((response) => {\n            this.setState({ recipes: response.data });\n        })\n        .catch((err) => console.error(err))\n  };\n\n\n\n  render() {\n    if (!this.state.recipes) {\n      return (<div>\n        <p>Loading...</p>\n        <i className=\"fas fa-spinner fa-pulse\"></i>\n      </div>)\n    }\n\n    return (\n      <>\n        <FilterMenu\n          onNameInput={this.onNameInput}\n          onCategoryInput={this.onCategoryInput}\n          onIngredientInput={this.onIngredientInput}\n          ingredientsFromHome={this.state.ingredientFilter}\n          state={this.state}\n\n        />\n       \n        {\n          this.state.recipes.length ?\n\n          <div className=\"list-recipes\">\n            {this.state.recipes.map((element) => {\n              return (\n                <div key={element._id}>\n                  <SimpleCard \n                    previousSearchParams={\n                      {name: this.state.nameFilter,\n                      ingredients: this.state.ingredientFilter,\n                      category: this.state.categoryFilter}\n                    } \n                    recipe={element}\n                    showLinks={true}>\n                  </SimpleCard>\n                </div>\n              );\n            })}\n          </div>\n\n          : <div>\n            <p>There are no recipes matching these criteria</p>\n              <Link to={{pathname: \"/all-recipes\", reset: true}}><i className=\"far fa-times-circle\"></i></Link>           \n            </div>\n        }\n      </>\n    );\n  }\n}","import React, { useState, useEffect } from \"react\";\n\nimport \"./../styles/MyRecipes.css\";\nimport \"./../styles/MyRecipes.css\";\nimport { Link } from \"react-router-dom\";\nimport APIHandler from \"../api/handler\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faTrash,\n  faEdit,\n  //faPlusSquare,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport SimpleCard from \"../components/SimpleCard\";\nimport { useAuth } from \"./../auth/UserContext\";\n\nexport default function MyRecipes() {\n  const [recipes, setRecipes] = useState([]); // i need a state\n  const { currentUser } = useAuth();\n\n  useEffect(() => {\n    fetchRecipes();\n    // fetch uniquement quand la valeur de currentUser change (cad passe de null à object dans ce cas)\n  }, [currentUser]);\n\n  const fetchRecipes = async () => {\n    try {\n      const res = await APIHandler.get(\"/my-recipes/\" + currentUser._id);\n      setRecipes(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      await APIHandler.delete(`/my-recipes/${id}`);\n      fetchRecipes();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleEdit = async (id) => {\n    try {\n      await APIHandler.get(`/my-recipes/${id}/edit`);\n      fetchRecipes();\n      this.props.history.push(`/my-recipes/${id}`);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    // if (!this.state.recipes) return <div>loading</div>\n\n    <div className=\"my-recipes\">\n      <h1>My recipes</h1>\n      {recipes.length === 0 && (\n        <div className=\"text\">\n          {\" \"}\n          You don't have any recipes yet. Add a recipe !\n        </div>\n      )}\n      <Link to={\"/profile/my-recipes/create\"} className=\"container\">\n        <button className=\"ingredient-add-button\">\n          <i className=\"fas fa-plus-circle\"></i>{\" \"}\n        </button>\n      </Link>\n<div className=\"list-my-recipes\">\n      {recipes.map((element) => {\n        return (\n          <div key={element._id} className=\"all-recipes\">\n            <SimpleCard showLinks={false} recipe={element}></SimpleCard>\n            <div >\n              <Link to={\"/profile/my-recipes/update/\" + element._id}>\n                <FontAwesomeIcon\n                  icon={faEdit}\n                  className=\"edit\"\n                  style={{ cursor: \"pointer\" }}\n                 \n                  onClick={() => handleEdit(element._id)}\n                />\n              </Link>\n              <FontAwesomeIcon\n                icon={faTrash}\n                className=\"trash\"\n                style={{ cursor: \"pointer\" }}\n               \n                onClick={() => handleDelete(element._id)}\n              />\n            </div>\n          </div>\n          \n        );\n      })}\n    </div>\n    </div>\n  );\n}\n","import React, { Component, useEffect, useState } from \"react\";\nimport \"./../styles/MyFavourites.css\";\nimport { useAuth } from \"../auth/UserContext\";\nimport SimpleCard from \"../components/SimpleCard\";\nimport APIHandler from \"../api/handler\";\nimport { Link } from \"react-router-dom\";\n\nexport default function MyFavourites() {\n  const { currentUser } = useAuth();\n  const [FavouritesList, setList] = useState([]);\n\n  useEffect(() => {\n    fetchFavorites();\n  }, [currentUser]);\n\n  const fetchFavorites = () => {\n    APIHandler.get(\"/\" + currentUser?._id)\n      .then((user) => {\n        setList(user.data.favorites);\n      })\n      .catch((error) => console.error(error));\n  };\n\n  return (\n    <div>\n      <h1>My favourites</h1>\n\n      {FavouritesList.length === 0 && (\n        <div className=\"text\">\n          {\" \"}\n          You don't have any favourites yet. <Link to=\"/all-recipes\" className=\"link-recipe\">Add one !</Link>\n        </div>\n      )}\n      <div className=\"list-favorites\">\n        {FavouritesList.map((element) => {\n          return (\n            <div key={element._id} className=\"all-recipes\">\n              <SimpleCard\n                showLinks={false}\n                recipe={element}\n                handler={fetchFavorites}\n              ></SimpleCard>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport APIHandler from \"../api/handler.js\";\nimport { withAuth } from \"../auth/UserContext.js\";\nimport \"./../styles/createForm.css\"\nimport './../styles/SearchIngredients.css';\n\n\nclass CreateForm extends Component {\n  // using the constructor form to associate a ref\n  constructor(props) {\n    console.log(props);\n    super(props); // MANDATORY !!!!\n    this.state = {\n      title: \"\",\n      author: \"\",\n      difficulty: \"easy\",\n      ingredient: \"\",\n      ingredients: [],\n      quantities: [],\n      quantity: \"\",\n      category:\"Meat\",\n      instructions:\"\",\n      image: React.createRef(), // create a reference to attach to the virtual DOM\n      error:false\n    };\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault(); // prevent the form to reload\n    // destructuring the state\n    const { title, difficulty, ingredients, category, quantities, instructions } = this.state;\n    // accessing the image out of the ref\n    const file = this.state.image.current.files[0]; // target the image file associated to the input[type=file]\n    const user = this.props.userContext.currentUser._id;\n    console.log(\"this is user\", user);\n    const uploadData = new FormData(); // create a form data => an object to send as post body\n\n    // appending the keys / values pairs to the FormData\n    uploadData.append(\"title\", title); // create a key [name] on the formDate\n    uploadData.append(\"difficulty\", difficulty); // create a key [age] on the formDate\n    uploadData.append(\"ingredients\", ingredients); // create a key [color] on the formDate\n    uploadData.append(\"quantities\", quantities);\n    uploadData.append(\"category\", category);\n    uploadData.append(\"instructions\", instructions);\n    uploadData.append(\"image\", file);\n    uploadData.append(\"author\", user);\n    try {\n      await APIHandler.post(\"/recipe/create\", uploadData);\n      this.props.history.push(\"./\")\n      console.log(\"this is this props\", this.props.history);\n    } catch (err) {\n      console.error(err);\n      this.setState({\n        error: true\n      })\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  addIngredientBar = (e) => {\n    console.log(\"you are\", e);\n    e.preventDefault();\n    let newIngredients = [...this.state.ingredients];\n    let newQuantities = [...this.state.quantities];\n    newIngredients.push(this.state.ingredient);\n    newQuantities.push(this.state.quantity);\n\n    this.setState({\n      ingredients: newIngredients,\n      ingredient: \"\",\n      quantities: newQuantities,\n      quantity: \"\",\n    });\n  };\n\n  removeIngredientBar = (e, index) => {\n    e.preventDefault();\n    const deleteIngredient = [...this.state.ingredients];\n    const deleteQuantities = [...this.state.quantities]\n    console.log(\"avant\", deleteIngredient)\n    console.log(\"index\", index)\n    deleteIngredient.splice(index, 1);\n    deleteQuantities.splice(index,1)\n    console.log(\"apres\", deleteIngredient)\n    this.setState({\n      ingredients: deleteIngredient,\n      quantities: deleteQuantities,\n    });\n\n  }\n  render() {\n    console.log(\"this is the ingrdients\", this.state);\n    return (\n      <>\n      <h1 className=\"title\">Create your own recipe!</h1>\n      <div className=\"general-wrap\">\n      \n        <form className=\"form-wrap bounce-in-top\">\n          {(this.state.error === true) && <div className=\"error\">Please fill in all the values</div>}\n          <input\n            name=\"title\"\n            type=\"text\"\n            placeholder=\"title\"\n            value={this.state.title}\n            onChange={this.handleChange}\n          />\n          <select\n            name=\"difficulty\"\n            value={this.state.difficulty}\n            onChange={this.handleChange}\n            className=\"input\"\n          >\n            <option value=\"easy\">Easy</option>\n            <option value=\"medium\">Medium</option>\n            <option value=\"difficult\">difficult</option>\n          </select>\n\n          <select\n            name=\"category\"\n            value={this.state.category}\n            onChange={this.handleChange}\n            className=\"input\"\n           >\n            <option value=\"Meat\">Meat</option>\n            <option value=\"Dessert\">Dessert</option>\n            <option value=\"Miscellaneous\">Miscellaneous</option>\n            <option value=\"Pasta\">Pasta</option>\n            <option value=\"Seafood\">Seafood</option>\n            <option value=\"Side\">Side</option>\n            <option value=\"Starter\">Starter</option>\n            <option value=\"Vegan\">Vegan</option>\n            <option value=\"Vegetarian\">Vegetarian</option>\n            <option value=\"Breakfast\">Breakfast</option>\n          </select>\n          <div className=\"ingredients-creation\">\n          <input\n            name=\"ingredient\"\n            type=\"text\"\n            placeholder=\"ingredients\"\n            value={this.state.ingredient}\n            onChange={this.handleChange}\n          />\n          <input\n            name=\"quantity\"\n            type=\"text\"\n            placeholder=\"quantities\"\n            value={this.state.quantity}\n            onChange={this.handleChange}\n          />\n          \n          <button className=\"create-button\" onClick={this.addIngredientBar}>Validate</button>\n\n          </div>\n          <textarea className=\"instructions-recipe\"\n            name=\"instructions\"\n            type=\"text\"\n            placeholder=\"instructions\"\n            value={this.state.instructions}\n            onChange={this.handleChange}\n          />\n          \n          \n\n          {/* THE REF IS HERE */}\n          <input className=\"input-file\" ref={this.state.image} name=\"image\" type=\"file\" />\n          <button className=\"create-button create-ingredients-button\" onClick={this.handleSubmit}>Create the recipe</button>\n        </form>\n\n        <div className=\"info-box\">\n          <h1>Your ingredients!</h1>\n          <table className=\"table\">\n            <tbody>\n              <tr className=\"table-title\">\n                <th>Ingredient</th>\n                <th>Quantity</th>\n              </tr>\n              {this.state.ingredients.map((element, i) => {\n                return (\n                  <tr className=\"ingredients\">\n                    <td key={i}>{element}</td>\n                    <td>{this.state.quantities[i]}</td>\n                    <img className=\"ingredient-image\" src={\"https://themealdb.com/images/ingredients/\" + element + \".png\"} alt=\"\"/>\n                    <button onClick={(evt) => this.removeIngredientBar(evt, i)}><i className=\"fas fa-trash-alt\"></i></button>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withAuth(CreateForm);\n","import React, { Component } from \"react\";\nimport APIHandler from \"../api/handler.js\";\nimport { withAuth } from \"../auth/UserContext.js\";\nimport \"./../styles/createForm.css\";\nimport { useAuth } from \"./../auth/UserContext\";\n\nclass Updateform extends Component {\n  // using the constructor form to associate a ref\n  constructor(props) {\n    console.log(props);\n    super(props); // MANDATORY !!!!\n    this.state = {\n      title: \"\",\n      author: this.props.userContext.currentUser._id,\n      difficulty: \"\",\n      ingredient: \"\",\n      ingredients: [],\n      quantities: [],\n      quantity: \"\",\n      category: \"\",\n      instructions: \"\",\n      image: \"\",\n      imageInput: React.createRef(), // create a reference to attach to the virtual DOM\n    };\n  }\n\n  componentDidMount = async () => {\n    try {\n      const recipeInfo = await APIHandler.get(\n        \"/all-recipes/\" + this.props.match.params.id\n      );\n      console.log(\"hoaoaoaoao\", recipeInfo);\n      this.setState({\n        title: recipeInfo.data.title,\n        difficulty: recipeInfo.data.difficulty,\n        ingredient: recipeInfo.data.ingredient,\n        ingredients: recipeInfo.data.ingredients,\n        quantities: recipeInfo.data.quantities,\n        quantity: recipeInfo.data.quantity,\n        category: recipeInfo.data.category,\n        instructions: recipeInfo.data.instructions,\n        image: recipeInfo.data.image,\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  handleSubmit = async (e) => {\n    e.preventDefault(); // prevent the form to reload\n    // destructuring the state\n    const {\n      title,\n      author,\n      difficulty,\n      ingredients,\n      category,\n      quantities,\n      instructions,\n      image,\n    } = this.state;\n    // accessing the image out of the ref\n    // const file = this.state.image;\n    // console.log(\"this is file\",file)// target the image file associated to the input[type=file]\n    const uploadData = new FormData(); // create a form data => an object to send as post body\n\n    const finalImage = this.state.imageInput.current.files[0] || image;\n\n    // appending the keys / values pairs to the FormData\n    uploadData.append(\"title\", title); // create a key [name] on the formDate\n    uploadData.append(\"difficulty\", difficulty); // create a key [age] on the formDate\n    uploadData.append(\"ingredients\", ingredients); // create a key [color] on the formDate\n    uploadData.append(\"quantities\", quantities);\n    uploadData.append(\"category\", category);\n    uploadData.append(\"instructions\", instructions);\n    uploadData.append(\"image\", finalImage);\n\n    try {\n      await APIHandler.patch(\n        \"/recipe/update/\" + this.props.match.params.id,\n        uploadData\n      );\n      this.props.history.push(\"/profile/my-recipes\");\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  addIngredientBar = (e) => {\n    console.log(\"you are\", e);\n    e.preventDefault();\n    let newIngredients = [...this.state.ingredients];\n    let newQuantities = [...this.state.quantities];\n    newIngredients.push(this.state.ingredient);\n    newQuantities.push(this.state.quantity);\n\n    this.setState({\n      ingredients: newIngredients,\n      ingredient: \"\",\n      quantities: newQuantities,\n      quantity: \"\",\n    });\n  };\n\n  removeIngredientBar = (e, index) => {\n    e.preventDefault();\n    const deleteIngredient = [...this.state.ingredients];\n    const deleteQuantities = [...this.state.quantities];\n    console.log(\"avant\", deleteIngredient);\n    console.log(\"index\", index);\n    deleteIngredient.splice(index, 1);\n    deleteQuantities.splice(index, 1);\n    console.log(\"apres\", deleteIngredient);\n    this.setState({\n      ingredients: deleteIngredient,\n      quantities: deleteQuantities,\n    });\n  };\n\n  render() {\n    console.log(\"this is the ingrdients\", this.props.match.params.id);\n    console.log(\"state\", this.state);\n    return (\n      <>\n        <h1 className=\"title\">Update your recipe!</h1>\n        <div className=\"general-wrap\">\n          <form className=\"form-wrap bounce-in-top\">\n            <input\n              name=\"title\"\n              type=\"text\"\n              placeholder=\"title\"\n              value={this.state.title}\n              onChange={this.handleChange}\n            />\n            <select\n              name=\"difficulty\"\n              value={this.state.difficulty}\n              onChange={this.handleChange}\n              className=\"input\"\n            >\n              <option value=\"easy\">Easy</option>\n              <option value=\"medium\">Medium</option>\n              <option value=\"difficult\">difficult</option>\n            </select>\n\n            <select\n              name=\"category\"\n              value={this.state.category}\n              onChange={this.handleChange}\n              className=\"input\"\n            >\n              <option value=\"Meat\">Meat</option>\n              <option value=\"Dessert\">Dessert</option>\n              <option value=\"Miscellaneous\">Miscellaneous</option>\n              <option value=\"Pasta\">Pasta</option>\n              <option value=\"Seafood\">Seafood</option>\n              <option value=\"Side\">Side</option>\n              <option value=\"Starter\">Starter</option>\n              <option value=\"Vegan\">Vegan</option>\n              <option value=\"Vegetarian\">Vegetarian</option>\n              <option value=\"Breakfast\">Breakfast</option>\n            </select>\n            <div className=\"ingredients-creation\">\n              <input\n                name=\"ingredient\"\n                type=\"text\"\n                placeholder=\"ingredients\"\n                value={this.state.ingredient}\n                onChange={this.handleChange}\n              />\n              <input\n                name=\"quantity\"\n                type=\"text\"\n                placeholder=\"quantities\"\n                value={this.state.quantity}\n                onChange={this.handleChange}\n              />\n\n              <button className=\"create-button\" onClick={this.addIngredientBar}>\n                Validate\n              </button>\n            </div>\n\n            <textarea\n              className=\"instructions-recipe\"\n              name=\"instructions\"\n              type=\"text\"\n              placeholder=\"instructions\"\n              value={this.state.instructions}\n              onChange={this.handleChange}\n            />\n\n            {/* THE REF IS HERE */}\n            <input\n              className=\"input-file\"\n              ref={this.state.imageInput}\n              name=\"image\"\n              type=\"file\"\n            />\n            <button\n              className=\"create-button create-ingredients-button\"\n              onClick={this.handleSubmit}\n            >\n              Update the recipe\n            </button>\n          </form>\n\n          <div className=\"info-box\">\n            <h1>Your ingredients!</h1>\n            <table className=\"table\">\n              <tbody>\n                <tr className=\"table-title\">\n                  <th>Ingredient</th>\n                  <th>Quantity</th>\n                </tr>\n                {this.state.ingredients.map((element, i) => {\n                  return (\n                    <tr className=\"ingredients\">\n                      <td key={i}>{element}</td>\n                      <td>{this.state.quantities[i]}</td>\n                      <img className=\"ingredient-image\" src={\"https://themealdb.com/images/ingredients/\" + element + \".png\"} alt=\"\"/>\n                      <button onClick={(evt) => this.removeIngredientBar(evt, i)}><i className=\"fas fa-trash-alt\"></i></button>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withAuth(Updateform);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useAuth } from \"./UserContext\";\n\n/* \n...foo\n@mdn : A function's last parameter can be prefixed with \"...\"\nwhich will cause all remaining (user supplied) arguments to be placed within a \"standard\" javascript array. \nOnly the last parameter can be a \"rest parameter\".\n*/\n// line below : use of the rest parameter\nexport const ProtectedRoute = ({ component: Component, ...rest }) => {\n  const { isLoggedIn, isLoading } = useAuth();\n  // return default template while performing async auth task\n  // isLoading is true while we come \n  if (isLoading) return <div>Loading...</div>;\n  return isLoggedIn ? (\n    // if logged in, return a regular Route component\n    // this Route gets any passed (...rested) props in a literal object\n    // then we pass the rested props AND the routes props (history, location, match) ...\n    // to the rendered Component (in this case Dashboard)\n    <Route {...rest} render={(props) => <Component {...props} />} />\n  ) : (\n    // if not logged in redirect to signin\n    <Redirect to=\"/sign-in\" />\n  );\n};\n","import \"./App.css\";\nimport React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport OneRecipe from \"./views/recipe\";\nimport NavMain from \"./components/NavMain\";\nimport NotFound from \"./views/NotFound\";\nimport Home from \"./views/Home\";\nimport Signin from \"./views/SignIn\";\nimport SignUp from \"./views/SignUp\";\n//import { ProtectedRoute } from \"./auth/ProtectedRoute\";\nimport { UserContextProvider } from \"./auth/UserContext\";\nimport AllRecipes from \"./views/AllRecipes\";\nimport MyRecipes from \"./views/MyRecipes\";\n\nimport MyFavourites from \"./views/MyFavourites\"\n// import { useAuth } from \"../src/auth/UserContext\";\nimport CreateForm from \"./components/CreateForm.jsx\"\nimport UpdateForm from \"./components/UpdateForm.jsx\"\nimport { ProtectedRoute} from \"./auth/ProtectedRoute\"\n\nfunction App() {\n  // const { isLoggedIn } = useAuth();\n  // const { currentUser } = useAuth();\n  return (\n    <UserContextProvider>\n      <div className=\"App\">\n        <NavMain />\n        \n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/sign-in\" component={Signin}></Route>\n          <Route path=\"/signup\" component={SignUp}></Route>\n          <ProtectedRoute exact path=\"/profile/my-recipes\" component={MyRecipes} />\n          <ProtectedRoute path=\"/profile/my-recipes/create\" component ={CreateForm} /> \n          <ProtectedRoute path=\"/profile/my-recipes/update/:id\" component ={UpdateForm} />   \n          <ProtectedRoute path=\"/profile/my-favourites\" component={MyFavourites} />\n          <Route path=\"/all-recipes/:id\" component={OneRecipe} />\n          <Route exact path=\"/all-recipes\" component={AllRecipes} />\n          <Route path=\"*\" component={NotFound} />\n        </Switch>\n</div>\n    </UserContextProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\nimport {UserContextProvider} from './auth/UserContext' \n\n\nReactDOM.render(\n\n  <BrowserRouter>\n    <UserContextProvider>\n      <App />\n    </UserContextProvider>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}